YUI.add("metro_viewtype",function(d){var c=null,b=false,a=true;d.namespace("Metro");d.Metro.createViewType=function(l,f){function k(p,o){return f.signal(p,o,[l]);}function j(o){return(o=="fp"||o=="toolbar")?d.one("body"):d.one("#"+l+"-"+o+"-bd");}function e(p){var o=j(p);return o?o.getStyle("direction"):c;}function i(q,p){var o=q.targetId,r=p?p.callback:c;this.setView(o,q.html);if(d.Lang.isFunction(r)){r(o,l);}}function n(o){return j(o)!=c;}function m(p,o,s,q){p=d.Array(p);var r=[];d.Array.each(p,function(t){r.push({type:"loadview",view:l,moduleId:t,chrome:o,data:q});});return f.getService("transport").makeRequest(r,s);}function h(p,r){var q=[],o=a;p=d.Array(p);if(p.length){d.Array.each(p,function(s){if(n(s)){var t=k(s,"viewrefresh");if(t){q.push(s);}}else{o=o&&b;}});if(o){this.loadView(q,false,{success:d.bind(i,this)},r);}}else{o=b;}return o;}function g(p,o){if(n(p)){k(p,"viewunload");j(p).set("innerHTML",o);this._afterSetView(p,o);k(p,"viewload");return a;}else{return b;}}return d.merge(d.ModulePlatform.BaseViewType,{_afterSetView:function(){},getViewDirection:e,getViewNode:j,isViewOpen:n,loadView:m,refreshView:h,setView:g});};},"1.0");/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("default_viewtype",function(c){var m=c.ModulePlatform,h=null,j=false,g=true,k=c.Lang,o=c.DOM,b=j,i={},l={},d={},e,n="default",a="MPViewTypes",f="DefaultViewTypeProvider";c.on("unload",function(){b=g;},window);c.namespace(a);c[a][f]={name:n,create:function(r){function u(B,C,E){var G=r.getModuleApi(B),A=G.getProperty("detailUrl"),F,K,z,D,I,H=j,J=r.queryModules(function(N){var M=r.getModuleApi(N),L=M&&M.getProperty("type");return L=="pacontainer";})[0];switch(C){case"badcrumb":E=r.getProperty("crumbErrorHtml");H=g;break;case"nocookies":E=r.getProperty("cookieErrorHtml");break;default:if(!E){E=c.Lang.substitute(r.getProperty("modErrorHtml"),{message:r.getString("fp","STR.MODULE.ERROR_FALLBACK_TEXT"),name:G.getProperty("title"),img:G.getProperty("icon"),title:G.getProperty("title"),url:G.getProperty("detailUrl")});}}F=E.indexOf('id="default-'+B+'"')>-1?E:c.Lang.substitute(r.getProperty("modChromeHtml"),{html:E,type_name:G.getProperty("type"),view_name:"error"});K=E.indexOf('id="default-'+J+'"')>-1?F:c.Lang.substitute(r.getString("pa","pacontainerHtml"),{html:F,title:G.getProperty("title")});z=o.create(K);if(!A){o.addClass(z,"no-link");}if(H){D=o.create('<p class="oops"><a href="'+window.location.href+'" class="cta-btn">'+r.getString("pa","STR.OK")+"</a></p>");}else{if(e!=B){D=o.create('<p class="oops"><button class="cta-btn pa-mod-err-retry">'+r.getString("pa","STR.TRY_AGAIN")+"</button></p>");}}if(D){I=c.Selector.query(".oops-msg",z,g);if(I){I.appendChild(D);}}e=B;return z;}function v(A,z){if(k.isFunction(A)){A(z,n);}}function p(A){var z=r.getService("pa");return !!(z&&z.isPAModule(A));}function x(A,z){return r.signal(A,z,[n]);}function t(B){if(p(B)){var z=r.getModuleApi(B),C=z.getProperty("type"),A=r.getString("pa","STR.PA.DISCLAIMER"),D;if(A&&!z.getProperty("trusted")&&C!="yap"){D=c.one("#default-"+B+"-ft");if(D){D.set("innerHTML",A);}}}}function q(D,A){var C=r.getService("pa"),E=C.getPacontainerId(),B=r.getService("metrics"),z;if(B){B.start("rv",{moduleId:D});}z=o.create(A);if(z&&!z.length){if(!r.isStarted(E)){r.start(E);}C.setChild(z,D);t(D);C.setModuleLoading(j);x(E,"viewload");i[D]=z;}else{r.error("loadview","Invalid HTML received",{moduleId:D});}if(B){B.stop("rv");}}function w(B,C,z){var A=r.getService("pa"),D=A.getPacontainerId();if(!r.isStarted(D)){r.start(D);}A.setChild(u(B,C,z),B,C);A.setModuleLoading(j);x(D,"viewload");}function y(E,B){var C=E.targetId,A=l[C],H=B?B.callback:h,G=r.getService("metrics"),D=r.getService("transport"),F=E.html,z;if(G){z=D.getMetrics(A);if(z){if("rt" in z){G.set("rt",z.rt);}if("pr" in z){G.set("pr",z.pr);}if("dt" in z){G.set("js",z.dt);}}D.clearMetrics();G.stop("ov");}q(C,F);delete l[C];delete d[C];v(H,C);}function s(C,B){if(!b){var A=C.targetId,D=B?B.callback:h,z;d[A]=1;delete l[A];if(C.result!="abort"){z=r.getService("metrics");if(z){z.clear("ov");}r.error("loadview","Server error while loading default view.",{moduleId:A,html:(C?C.html:""),viewName:n});w(A,C.resultDetail,C.html);v(D,A);}}}return c.merge(c.Metro.createViewType(n,r),{closeView:function(B,D){var A=r.getService("pa"),C=A&&A.getPacontainerId(),z=(A&&p(B))?C:B;if(this.isViewOpen(B)&&x(z,"viewclose")){x(z,"viewunload");if(z==C){delete i[B];A.clearChild(B);}v(D,B);return g;}else{if(k.isNumber(l[B])){r.getService("transport").abortRequest(l[B]);delete l[B];}}return j;},hideView:function(z){if(this.isViewOpen(z)){this.getViewNode(z).get("parentNode").setStyle("display","none");return g;}return j;},openView:function(B,D){var A=r.getService("pa"),C=A&&A.getPacontainerId(),z;if(A&&p(B)&&!this.isViewOpen(B)&&x(C,"viewopen")){z=r.getService("metrics");if(z){z.start("ov",{moduleId:B});}l[B]=this.loadView(B,g,{success:y,failure:s,argument:{moduleId:B,callback:D}});return l[B]!=-1;}else{return j;}},showView:function(z){if(this.isViewOpen(z)){this.getViewNode(z).get("parentNode").setStyle("display","");return g;}return j;},_afterSetView:function(A,z){t(A);}});}};if(m){m.registerViewType(c[a][f]);}},"1.0");/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("edit_viewtype",function(c){var o=null,l=false,h=true,j=c.ModulePlatform,r=o,f=l,q,d=o,e={},g="viewload",n="edit",i="MPViewTypes",a="EditViewTypeProvider";function m(t,s){return r.signal(t,s,[n]);}function b(u,t){var s=u.targetId,v=t?t.callback:o;delete e[s];f=l;d=c.DOM.create(u.html);if(d&&!d.length){r.hideView(s,"default");r.getViewNode(s,"default").get("parentNode").insert(d,"after");m(s,g);if(c.Lang.isFunction(v)){v(s,n);}}else{r.error("loadview","Invalid HTML received",{moduleId:s});}}function p(t){var s=r.getModuleApi(t);return c.Lang.substitute(r.getProperty("modErrorHtml"),{message:r.getString("fp","STR.MODULE.ERROR_FALLBACK_TEXT"),name:s.getProperty("title"),img:s.getProperty("icon"),title:s.getProperty("title"),url:s.getProperty("detailUrl")});}function k(v,u){var t=v.targetId,w=u?u.callback:o,s=p(t);r.getViewNode(t,"default").set("innerHTML",s);r.error("loadview","Server error while loading edit view.",{moduleId:t,html:(v?v.html:""),viewName:n});delete e[t];if(c.Lang.isFunction(w)){w(t,n);}}q={closeView:function(s,u){if(this.isViewOpen(s)){var t=c.one("#edit-"+s).getDOMNode();t.parentNode.removeChild(t);r.showView(s,"default");if(c.Lang.isFunction(u)){u(s,n);}return h;}else{if(c.Lang.isValue(e[s])){r.getService("transport").abortRequest(e[s]);delete e[s];}else{return l;}}},getViewNode:function(s){return c.Node.one("#edit-"+s+"-bd");},isViewOpen:function(s){return this.getViewNode(s)!=o;},loadView:function(s,t){f=h;return r.getService("transport").makeRequest({type:"loadview",view:"edit",moduleId:s,chrome:true},t);},openView:function(s,t){if(!this.isViewOpen(s)&&!f){e[s]=this.loadView(s,{success:b,failure:k,argument:{moduleId:s,callback:t}});return e[s]!=-1;}else{return l;}},refreshView:function(s){return l;},setView:function(t,s){if(this.isViewOpen(t)){m(t,"viewunload");this.getViewNode(t).set("innerHTML",s);m(t,g);return h;}else{return l;}},showView:function(s){return l;}};c.namespace(i);c[i][a]={name:n,create:function(s){r=s;return q;}};if(j){j.registerViewType(c[i][a]);}},"1.0");/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
if(typeof YAHOO=="undefined"){YAHOO={};}if(!YAHOO.ULT){YAHOO.ULT={};}if(!YAHOO.ULT.BEACON){YAHOO.ULT.BEACON="http://geo.yahoo.com/t";}if(!YAHOO.ULT.IMG){YAHOO.ULT.IMG=new Image();}YAHOO.ULT.SRC_SPACEID_KEY="_S";YAHOO.ULT.DEST_SPACEID_KEY="_s";YAHOO.ULT.YLC_LIBSRC=2;YAHOO.ULT.CTRL_C="\x03";YAHOO.ULT.CTRL_D="\x04";YAHOO.ULT.BASE64_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789._-";(function(){YAHOO.ULT.track_click=function(c,g){if(!c||!g){return c;}g._r=YAHOO.ULT.YLC_LIBSRC;var h=[];var d=0;for(var b in g){var a=g[b];if(typeof(a)=="undefined"){a=g[b]="";}if(b.length<1){return c;}if(b.length>8){return c;}if(b.indexOf(" ")!=-1){return c;}if(YAHOO.ULT.has_ctrl_char(b)||YAHOO.ULT.has_ctrl_char(a)){return c;}h[d++]=b;}h=h.sort();var e=[];for(d=0;d<h.length;d++){e[d]=h[d]+YAHOO.ULT.CTRL_C+g[h[d]];}e=e.join(YAHOO.ULT.CTRL_D);if(e.length<1||e.length>1024){return c;}e=";_ylc="+YAHOO.ULT.encode64(e);d=c.indexOf("/*");if(d==-1){d=c.indexOf("/?");}if(d==-1){d=c.indexOf("?");}if(d==-1){return c+e;}else{return c.substr(0,d)+e+c.substr(d);}};YAHOO.ULT.beacon_click=function(c,b){if(!b){b=YAHOO.ULT.IMG;}if(c){var a=YAHOO.ULT.track_click(YAHOO.ULT.BEACON,c);a+="?t="+Math.random();b.src=a;}return true;};YAHOO.ULT.has_ctrl_char=function(b){for(var a=0;a<b.length;a++){if(b.charCodeAt(a)<32){return true;}}return false;};YAHOO.ULT.encode64=function(c){var a="";var k,h,f="";var j,g,e,d="";var b=0;do{k=c.charCodeAt(b++);h=c.charCodeAt(b++);f=c.charCodeAt(b++);j=k>>2;g=((k&3)<<4)|(h>>4);e=((h&15)<<2)|(f>>6);d=f&63;if(isNaN(h)){e=d=64;}else{if(isNaN(f)){d=64;}}a=a+YAHOO.ULT.BASE64_STR.charAt(j)+YAHOO.ULT.BASE64_STR.charAt(g)+YAHOO.ULT.BASE64_STR.charAt(e)+YAHOO.ULT.BASE64_STR.charAt(d);k=h=f="";j=g=e=d="";}while(b<c.length);return a;};})();/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("instrumentation",function(d){var E=null,Q=false,D=true,b=d.ModulePlatform,a=E,R=E,S=E,q=E,B=E,C=Q,o=E,J=E,l=Q,f=Q,A=D,e={},p,N,r=E,h="getProperty",y="data-b",L="aria-disabled",P="data-ylk",i="data-action",x="data-action-outcome",F="MPServices",O="InstrumentationProvider";function m(V){var U=new Image();U.id=d.guid();e[U.id]=U;U.onload=U.onerror=function(){delete e[this.id];};if(V){U.src=V;}return U;}function w(X){var V=X.hasAttribute(y)?X:X.ancestor(function(Y){return Y.hasAttribute(y);}),U=X.getAttribute(L)=="true",W=V?V.getAttribute(L)=="true":Q;if(V&&!X.hasClass("nobeacon")&&!U&&!W){return V.getAttribute(y);}else{return E;}}function t(U){if(J&&d.Lang.isFunction(r.refreshModule)){var V=d.one(U);if(V){r.refreshModule(V.generateID());}}}function s(U){var V;if(J){if(l&&d.Lang.isFunction(r.refreshModuleAsRichView)){V=d.one(U);if(V){r.refreshModuleAsRichView(V.generateID());}}else{t(U);}}}function c(U){if(J){r.addModules(U);}}function G(U){if(J){if(l&&d.Lang.isFunction(r.addModulesAsRichView)){r.addModulesAsRichView(U);}else{c(U);}}}function v(V){if(!V||!V.hasAttribute(P)){return E;}var W={},X=V.getAttribute(P),U;if(X){U=X.split(";");d.Array.each(U,function(Y){var Z=Y.split(":");if(Z[0]&&Z[1]){W[Z[0]]=Z[1];}});if(V.hasAttribute(i)){W.action=V.getAttribute(i);}if(V.hasAttribute(x)){W.outcm=V.getAttribute(x);}}return W;}function k(W,U){var V=m(),X;if(!A){return;}if(W instanceof d.Node){W=w(W);}if(!W){return;}if(d.Lang.isObject(W)){X=d.merge({_S:R,test:S},W);delete X.action;delete X.outcome;if(U){YAHOO.ULT.BEACON=YAHOO.ULT.BEACON+";"+U;}YAHOO.ULT.beacon_click(X,V);if(U){YAHOO.ULT.BEACON=B;}}else{if(U){W+=";"+U;}V.src=(q||YAHOO.ULT.BEACON)+";"+W+"?t="+(new Date()).getTime();}}function I(U){if(!J){return;}var V;if(U instanceof d.Node){V=v(U);}else{if(d.Lang.isObject(U)){V=U;}}if(!d.Lang.isObject(V)||!V.action){return;}if(V.action==="click"){r.beaconClick(V.sec,V.slk||"",V.pos,V,V.outcome||V.outcm||E);}else{r.beaconEvent(V.action,V,V.outcome||V.outcm||E);}}function z(V,U){k(V,U);I(V);}function M(){var V=window.location,U;if(!d.Lang.isUndefined(window._comscore)){U=m();U.src="http://b.scorecardresearch.com/p?c1=2&c2=7241469&c4="+encodeURIComponent(V.protocol+"//"+V.host)+"&c5="+R+"&ns_c=UTF-8&ns__t="+(new Date().getTime());}else{if(YAHOO.i13n&&d.Lang.isFunction(YAHOO.i13n.sendComscoreEvent)){YAHOO.i13n.sendComscoreEvent({c7:V.href});}}}function u(W){if(C){return;}var V=a.getProperty("ylp"),U=m();if(!V){return;}if(!W){return;}U.src=(q||YAHOO.ULT.BEACON)+";"+V+"?t="+(new Date()).getTime()+"&"+W;C=true;}function H(){var W,V=d.Object.getValue(window,["performance","timing"]),U={pt:1,mrkt:a[h]("intl"),authfb:a[h]("fbauthstate"),f:a[h]("hps")};if(V){W=V.requestStart;U.prfm1=V.responseStart-W;U.prfm2=V.responseEnd-W;U.prfm3=V.domContentLoadedEventEnd-W;U.prfm4=+(new Date())-W;}return U;}function j(V){if(o){return;}var U=w(V);if(U){o=U;}else{}}function n(){o=E;}function K(){return(o!==E);}function T(){if(o){z(o);o=E;}}function g(){var U=a[h]("addthis.beacon");if(U){m(U);}}p={fireBeacon:z,fireUltBeacon:k,fireYwaBeacon:I,getBeaconImage:m};N={collectData:j,fireBeacon:z,fireUltBeacon:k,fireYwaBeacon:I,getBeaconImage:m,fireComscoreBeacon:M,firePageParameterBeacon:u,clearPendingBeacons:n,firePendingBeacons:T,hasPendingBeacons:K,getBeaconKeys:v,addModules:c,addModulesAsRichView:G,refreshModule:t,refreshModuleAsRichView:s};d.namespace(F);d[F][O]={name:"instrumentation",getService:function(W,V){if(!a){var U;a=W;R=a[h]("ultSpaceId");S=a[h]("ywa.rapid.bucket.id");q=a[h]("ultBeaconHost");J=!!a[h]("ywa.rapid.enabled");l=!!a[h]("ywa.rapid.richview.enabled");f=!!a[h]("ywa.rapid.ult.enabled");if(J){if(typeof YMedia!=="undefined"&&typeof YMedia.rapid!=="undefined"){r=YMedia.rapid;A=Q;}else{YAHOO.i13n.YWA_CF_MAP={authfb:11,mrkt:12,pt:13,sec:18,slk:19,cpos:21,pkgt:22,ct:23,bpos:24,cat:25,dcl:26,rescode:27,sort:28,ilc:39,f:40,prfm1:41,prfm2:43,prfm3:44,prfm4:45,ft:51,v:52,sca:53,camp:54,code:55,elm:56,elmt:57,ad:58,rspns:107,dir:108,grpt:109,mpos:110,itc:111,t1:121,t2:122,t3:123,t4:124,t5:125};YAHOO.i13n.YWA_ACTION_MAP={click:12,scrollup:15,hover:17,secview:18,hswipe:19,share:23,reauthfb:24,insert:28,flw:52,unflw:53,rpl:54,rt:55,fav:56,drag:105,hvr:115,secvw:116,swp:203};YAHOO.i13n.YWA_OUTCOME_MAP={share:23,navigate:25,top:26,hpset:27,open:29,fetch:30,end:31,rmct:32,login:33,close:34,filter:35,connect:36,itemdecl:37,setlayout:38,sort:39,entitydecl:40,undo:41,cueswipeview:42,cueauthview:43,cueloadview:44,cueinfoview:45,cueconnectview:46,msgview:47,authview:48,loadview:49,cuehpset:50,cuedcl:61,dclent:101,dclitm:102,svct:109,unsvct:110,rmsvct:117,slct:121,lgn:125,lgo:126,cnct:127,flagitm:129,unflagitm:130,flagcat:131,unflagcat:132,srch:134};A=!f;U={use_rapid:f,use_sampling:!!a[h]("ywa.rapid.sampling.enabled"),debug:!!a[h]("ywa.rapid.debug"),sampling_affects_ywa:!!a[h]("ywa.rapid.sampling.enabled"),sampling_range:a[h]("ywa.rapid.sampling.range"),spaceid:a[h]("ywa.rapid.space.id"),test_id:S,tracked_mods:a[h]("ywa.rapid.enabled.modules"),ywa:{project_id:a[h]("ywa.rapid.project.id"),host:a[h]("ywa.rapid.host")},keys:H(),nofollow_class:["rapidnofollow","video-inline"],webworker_file:a[h]("ywa.rapid.worker.path")};if(typeof YAHOO.i13n.Rapid!=="undefined"){r=new YAHOO.i13n.Rapid(U);}else{r=new YAHOO.i13n.Track(U);r.init();}}}if(q){YAHOO.ULT.BEACON=q;}B=YAHOO.ULT.BEACON;g();}return(!V||a.getModuleApi(V)[h]("trusted")?N:p);}};if(b){b.registerService(d[F][O]);}});/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("metrologger",function(b){var j=b.ModulePlatform,c,k,g="/perf.gif",h,i={},f,d="MPServices",a="MetroLoggerProvider";function e(o,n){var m=new Image(),l="",p=b.merge(o,{rid:c.getProperty("requestId"),bid:c.getProperty("ywa.rapid.bucket.id")||""});m.id=b.guid();i[m.id]=m;m.onload=m.onerror=function(){delete i[this.id];};b.Object.each(p,function(r,q){l+=encodeURIComponent(q)+"="+encodeURIComponent(r)+"&";});m.src=n+"?"+l;return l;}f={logError:function(m,l){e({moduleId:m,msg:l},k);},logPAPerf:function(l){e(l,g);},logAd:function(l){var m=e(l,h);}};b.namespace(d);b[d][a]={name:"metrologger",getService:function(m,l){if(!c){c=m;}if(!k){k=m.getProperty("jsErrorUrl");h=k;}return(!l||m.getModuleApi(l).getProperty("trusted")?f:null);}};if(j){j.registerService(b[d][a]);}});/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("autohide_service",function(h){var f=h.ModulePlatform,b={},e=-1,a,c="MPServices",g="AutoHideProvider";a={register:function(i){b[++e]=i;if(!i.triggers){i.triggers=["click"];}return e;},unregister:function(i){delete b[i];}};function d(i){h.Object.each(b,function(n){if(h.Array.indexOf(n.triggers,i.type)>-1){var o=i.target,k=n.targets,l=true,m=0,j=k.length;if(!o.inDoc(document)){l=false;}else{for(;m<j&&l;m++){if(o.compareTo(k[m])||(k[m]&&k[m].contains(o))){l=false;}}}if(l){n.hide();}}});}h.on("click",d,document);h.on("keydown",d,document);h.on("unload",function(){h.detach("click",d,document);h.detach("keydown",d,document);},window);h.namespace(c);h[c][g]={name:"autohide",getService:function(){return a;}};if(f){f.registerService(h[c][g]);}},"1.0");/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("sethomepage_service",function(a){var B=null,w=false,h=true,n=a.ModulePlatform,C,q,j=a.Cookie,p=a.UA,g="MPServices",s="SetHomepageProvider",b="m.",e="click",f="HP",i="ilc",c="keydown",o=27,k="mousedown",y="y-hpset-show",l,A;function t(D){j.set(i,D,{domain:q});}function r(){return j.get(i);}function v(E,D){j.set(f,D,{domain:".yahoo.com"});if(E){t(E);}}function m(){return j.get(f);}function u(D){D=!a.Lang.isUndefined(D)?D:r();var E=window.location.host;if(E.indexOf(b)===0){E=E.substring(2);}return"http://"+E+"/"+(D?"?ilc="+D:"");}function d(E){var D,G=w;if(l){D=u(E);try{l.setHomePage(D);}catch(F){}G=l.isHomePage(D);if(G){v(E,"1");}}return G;}function z(E){var D,F=w;if(j.get(f)==1){F=h;}else{if(p.ie){if(window.location.host.indexOf(b)===0){F=window.history.length==1;}else{D=u(E);F=l.isHomePage(D);}}else{if((p.gecko||p.webkit)&&window.history.length==1){F=h;}else{if(p.opera&&window.history.length===0){F=h;}}}}return F;}function x(F,E){var D;F=a.one(F);E=E||{};F.on(e,this._handleClick,this);F.on(c,this._handleKeydown,this);F.on(k,this._handleMousedown,this);D=E.autohideTargets||[];D.push(F);this.autohide=C.getService("autohide");this.autohideId=this.autohide.register({targets:D,hide:a.bind(this.hide,this)});this.instrumentation=C.getService("instrumentation");this.overlay=F;this.options=E;}x.prototype={autohide:B,autohideId:B,instrumentation:B,options:B,overlay:B,_handleClick:function(E){var D=E.target;if(D.hasClass("hs-close")){this.hide();}else{if(D.hasClass("hs-drag-icon")){E.preventDefault();}}},_handleMousedown:function(D){if(D.target.hasClass("hs-drag-icon")){v(this.options.ilc,"1");this.instrumentation.fireBeacon(this.options.dragBeacon);}},_handleKeydown:function(D){if(D.keyCode==o){this.hide();}},getRootNode:function(){return this.overlay;},hide:function(){this.overlay.removeClass(y);},show:function(){var D=this.overlay,E=D.one("h3");D.addClass(y);E.setAttribute("tabIndex","-1").focus();},toggle:function(){if(this.overlay.hasClass(y)){this.hide();}else{this.show();}},destroy:function(){var D=this.overlay;this.hide();D.detach(e,this._handleClick);D.detach(c,this._handleKeydown);D.detach(k,this._handleMousedown);this.autohide.unregister(this.autohideId);this.overlay=B;}};A={createOverlay:function(E,D){return new x(E,D);},isHomepageSet:z,getHpCookie:m,setHpCookie:v,getIlcCookie:r,setIlcCookie:t,setIEHomepage:d};a.namespace(g);a[g][s]={name:"sethomepage",getService:function(E,D){if(!C){C=E;q=C.getProperty("cookieDomain");}if(a.UA.ie&&!l){l=document.createElement("DIV");l.id="y-ieshp";l.style.behavior="url(#default#homepage)";document.body.appendChild(l);}return A;}};if(n){n.registerService(a[g][s]);}},"1.0");/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("lazy_image",function(f){var c=f.ModulePlatform,g="lzbg",a="MPServices",e="LazyImageProvider",b;function d(i){var h;if(i.test("img")){h=i.getStyle("backgroundImage");if(/url\(['"](.*?)['"]\)/.test(h)){}else{/url\(["']?(.*?)["']?\)/.test(h);}h=RegExp.$1;if(h&&h.length>0){i.set("src",h);i.setStyle("backgroundImage","");}}i.removeClass(g);}f.on("domready",function(h){f.later(0,this,function(){var i=f.DOM.viewportRegion();f.all("."+g).each(function(j){if(j.getY()<=i.bottom){d(j);}});f.onceAfter("scroll",function(j){f.all("."+g).each(function(k){f.later(0,this,d,k);});});});});b={LAZY_IMAGE_CLASS:g,loadImage:d};f.namespace(a);f[a][e]={name:"lazyimage",getService:function(i,h){return b;}};if(c){c.registerService(f[a][e]);}},"0.0.1",{requires:["dom","node"]});/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("sticky_position_service",function(h){var f=h.ModulePlatform,b,e,c="MPServices",g="StickyPositionProvider",d=h.Lang,a=[];e=function(j){if(!d.isObject(j)||d.isArray(j)||d.isFunction(j)){throw new Error("sticky service requires an object");}h.Object.each(j,function i(m,l){var n=h.one(l),k;if(!n){return;}if(m.onSticky&&!d.isFunction(m.onSticky)||m.onLoose&&!d.isFunction(m.onLoose)){return;}k=h.Node.create('<div class="sticky-pholder"></div>');n.insert(k,"before");a.push({node:n,top:m.top||0,onSticky:m.onSticky,onLoose:m.onLoose,threshold:k.getY()+n.get("offsetHeight"),pHolderWidth:k.get("offsetWidth"),pHolder:k});});return this;};e.prototype={trigger:function(i,k,j,l){h.Array.each(a,function m(t){var o=t.threshold,p=t.node,s=t.top,q=t.nodeHeight||p.get("offsetHeight"),n=t.stickyToTop,r;if(j==="resize"){t.pHolderWidth=t.pHolder.get("offsetWidth");t.stickyToTop=i.height-t.top>q;n=t.stickyToTop;}if(n){r=o-k-s<=0;}else{r=o-(k+i.height)<=0;}if(r&&!t.disabled&&k!==0&&(h.Lang.isFunction(l)&&l())){if(j==="resize"||!p.hasClass("sticky")){p.addClass("sticky");p.setStyle("width",t.pHolderWidth);t.pHolder.setStyle("height",q);if(n){t.onSticky(p,"top");}else{t.onSticky(p,"bottom");}}}else{p.removeClass("sticky");t.pHolder.setStyle("height","");t.onLoose(p);}});},recalculateThresholds:function(i){var j=h.DOM.docHeight();h.Array.each(a,function k(m){var o=m.node,p=o.get("offsetHeight"),n=m.pHolder.getY(),l=i.height-m.top>p;if(l){m.threshold=n;}else{m.threshold=n+p;}m.stickyToTop=l;m.nodeHeight=p;m.disabled=(j===m.threshold);});}};h.namespace(c);h[c][g]={name:"sticky_position",getService:function(j,i){if(!b){b=j;}if(h.UA.ie!==0&&h.UA.ie<7){return false;}return e;}};if(f){f.registerService(h[c][g]);}},"0.0.1");/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("userinfo_service",function(g){var d=null,c=g.ModulePlatform,a=d,f,b="MPServices",e="UserInfoProvider";f={getDisplayName:function(){return a.getProperty("user");},isLoggedIn:function(){return !!a.getProperty("user");},isRecognized:function(){return !!a.getProperty("userRecognized");},getLocation:function(){var i={},l=a.getProperty("userLocation"),j=["zip","city","state","country","woeid","lat","lon"],h=j.length,k;if(l){while((k=j[--h])){i[k]=l[k]||null;}}return i;}};g.namespace(b);g[b][e]={name:"userinfo",getService:function(i,h){if(!a){a=i;}return f;}};if(c){c.registerService(g[b][e]);}},"1.0");/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("statemgr_service",function(b){var k=b.ModulePlatform,g="MPServices",m="StateMgrProvider",j="MSC",i="fpps",e="fpms",p="_page",l,h,c,d,r,o;function f(){var t=new Date();t.setFullYear(t.getFullYear()+1);return t;}function s(x,v,u){var w=h.getSub(x,v),t=null;if(w){t=c.parse(w)[u];}return t;}function a(z,w,t){var y=h.getSub(z,w),x,v,u;if(y){x=c.parse(y);delete x[t];v=c.stringify(x);u={expires:f(),domain:l,path:"/"};if(v=="{}"){h.removeSub(z,w,u);}else{h.setSub(z,w,v,u);}}}function q(y,u,t,w){var x=h.getSub(y,u),v=x?b.JSON.parse(x):{};v[t]=w;h.setSub(y,u,c.stringify(v),{expires:f(),domain:l,path:"/"});}function n(t){if(!d[t]){d[t]=r.getModuleApi(t).getProperty("trusted")?b.Object(o):{};b.mix(d[t],{getUserModuleState:function(u){return s(e,t,u);},removeUserModuleState:function(u){a(e,t,u);},setUserModuleState:function(u,v){q(e,t,u,v);},saveUserSetting:function(w,x,u){var v=k.getService("userinfo");if(v.isLoggedIn()){u.makeRequest({type:"module",moduleId:u.getId(),args:{_action:"save",_subAction:"userPrefSave",key:w,value:x,noups:1}},{});}else{this.setUserModuleState(w,x);this.update();}}});}return d[t];}o={isUpdated:function(){return !!h.get(j);},update:function(){h.setSub(j,"mod","1",{domain:l,path:"/"});},getUserPageState:function(t){return s(i,p,t);},removeUserPageState:function(t){a(i,p,t);},setUserPageState:function(t,u){q(i,p,t,u);}};b.namespace(g);b[g][m]={name:"statemgr",getService:function(u,t){r=u;h=b.Cookie;c=b.JSON;l=u.getProperty("cookieDomain")||b.config.win.location.hostname;if(!d){d={};}return !t?o:n(t);},destroy:function(){d=null;}};if(k){k.registerService(b[g][m]);}},"1.0");/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("modal_service",function(b){var l=b.ModulePlatform,u,n,g="MPServices",m="ModalProvider",c=(function(){
/*! IS_POSITION_FIXED_SUPPORTED - Juriy Zaytsev (kangax) - http://yura.thinkweb2.com/cft/ */
var y=b.config.doc,w=null,x,v;if(y.createElement){x=y.createElement("div");if(x&&x.style){x.style.position="fixed";x.style.top="10px";v=y.body;if(v&&v.appendChild&&v.removeChild){v.appendChild(x);w=(x.offsetTop===10);v.removeChild(x);}}}return w;}()),k="modal",r="y-modal",f="y-modal-mask",i="px",s="100%",p="display",j="none",q="0",t=null,d=50,e=100,h=true,o=false;function a(w){var v=b.Node.create("<div></div>"),x=w.width||e,y=b.one(w.srcNode);this.modalMask=a._getMask(w);this.modalBody=v;v.addClass(r+" "+w.className);v.setStyles({width:x,display:j,marginLeft:-Math.floor(x/2)});v.append(y);this.modalMask.append(this.modalBody);if(!c){this.listener=b.on("scroll",this._resyncMask,this);}}a._getMask=function(x){var w=b.one("."+f)||t,y,v,z;if(w){return w;}else{v=b.one(document.body);z=b.Object.getValue(x,["zIndex"])||d;w=b.Node.create('<div><div class="y-modal-mask-bg"></div></div>');w.addClass(f);if(c){w.setStyles({position:"fixed",width:s,height:s,top:q,left:q,display:j,zIndex:z});}else{y=b.config.win;w.setStyles({position:"absolute",width:y.get("winWidth")+i,height:y.get("winHeight")+i,top:q,left:q,display:j,zIndex:z});}v.append(w);return w;}};a.prototype={visible:o,setContent:function(v){this.modalBody.setContent(v);},show:function(){this.modalMask.all("."+r).setStyle(p,j);this.modalBody.setStyle(p,"");this.modalMask.setStyle(p,"");this.visible=h;if(!c){this._resyncMask(b.config.win);}this.modalMask.on("click",this.handleClick,this);this.modalBody.on("click",this.handleClick,this);},hide:function(){this.modalMask.setStyle(p,j);this.modalMask.all("."+r).setStyle(p,j);this.visible=o;},handleClick:function(x){var w=x.target,v=false;if(w.hasClass("y-modal-mask-bg")||w.hasClass("modal-close")){v=true;}if(v){this.hide();}},isVisible:function(){return this.visible;},destroy:function(){var v=this.modalMask.all("."+r);this.modalBody.remove();this.modalBody=t;if(v&&v.size()<2){if(this.listener){this.listener.detach();}this.modalMask.remove(true);this.modalMask=t;}},_resyncMask:function(A){if(!this.isVisible()){return;}var B=A.currentTarget||A,v=B.get("docScrollX"),C=B.get("docScrollY"),y=B.get("innerWidth")||B.get("winWidth"),z=B.get("innerHeight")||B.get("winHeight"),x=a._getMask();x.setStyles({top:C+i,left:v+i,width:y+i,height:z+i});}};n={create:function(v){return new a(v);}};b.namespace(g);b[g][m]={name:k,getService:function(w,v){if(!u){u=w;}return n;}};if(l){l.registerService(b[g][m]);}},"0.0.1");/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("aria_service",function(d){var i=d.ModulePlatform,g="MPServices",a="AriaProvider",c,f,h="aria-",e={hidden:["hide","show","isHidden"],disabled:["disable","enable","isDisabled"],selected:["select","unselect","isSelected"]},b=(d.UA.ie>=8||d.UA.gecko>=1.9||d.UA.webkit>=530);f={isSupported:function(){return b;},setRole:function(j,k){return j.setAttribute("role",k);},alert:function(m,j){var n=document,l,k;j=d.Node.getDOMNode(j)||n.body;if(b&&m){k=j.firstChild;while(k){if(d.DOM.hasClass(k,"aria-alert")){l=k;break;}k=k.nextSibling;}if(!l){l=n.createElement("div");l.role="alert";l.setAttribute(h+"live","assertive");l.className="hide-offscreen aria-alert";j.appendChild(l);}l.innerHTML="<p>"+m+"</p>";}this.update();},update:function(){if(!c){c=document.createElement("input");c.type="hidden";c.value=1;document.body.appendChild(c);}c.value=(c.value==1?0:1);},clearState:function(j,k){return j.removeAttribute(h+k);},hasState:function(k,l){var j=h+l;return k.hasAttribute?k.hasAttribute(j):k.getAttribute(j)!==null;},setState:function(j,k){j.setAttribute(h+k,true);},focusable:function(k,j){k.tabIndex=j?0:-1;}};d.Object.each(e,function(j,k){f[j[0]]=function(l){return f.setState(l,k);};f[j[1]]=function(l){return f.clearState(l,k);};f[j[2]]=function(l){return f.hasState(l,k);};});d.namespace(g);d[g][a]={name:"aria",getService:function(k,j){return f;}};if(i){i.registerService(d[g][a]);}},"1.0");/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("iframeshim_service",function(c){var k=c.ModulePlatform,j=c.Node,p=c.Lang.isNumber,e,f="MPServices",a="IFrameShimProvider",o='<iframe class="y-iframe-shim" tabindex="-1" role="presentation" title="For presentation purposes. Please ignore." src="javascript:false"></iframe>',m="auto",g="display",i="parentNode",h="px",n="zIndex",l,b;function d(){var q=j.create(o);q.setStyle("frameBorder","0");q.setStyle("opacity",0);return q;}l=function(q){this.target=null;this.iframe=d();this.retarget(q);};l.prototype={show:function(){this._positionIFrame();this.iframe.setStyle(g,"block");},hide:function(){this.iframe.setStyle(g,"none");},retarget:function(q){this.hide();this.target=c.one(q);this._attachIFrame();},destroy:function(){this.iframe.get(i).removeChild(this.iframe);this.iframe=this.target=null;},_attachIFrame:function(){var r=this.iframe,q=r.get(i),s=this.target;if(s){s.get(i).insertBefore(r,s);}else{if(q){q.removeChild(r);}}},_positionIFrame:function(){if(!this.target){return;}var r=this.iframe,t=this.target,q=parseInt(t.getStyle("top"),10),v=parseInt(t.getStyle("left"),10),u=t.get(n),s=t.get("region");r.setStyles({top:p(q)?q+h:m,left:p(v)?v+h:m,width:s.width+h,height:s.height+h});if(p(u)){r.setStyle(n,u-1);}}};b={create:function(q){return new l(q);},isShimNeeded:function(){return c.UA.ie>5&&c.UA.ie<7;}};c.namespace(f);c[f][a]={name:"iframeshim",getService:function(r,q){if(!e){e=r;}return b;}};if(k){k.registerService(c[f][a]);}},"1.0");/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("menu_service",function(b){var v=false,j=true,z=null,l=b.ModulePlatform,r="data-pos",e="selected",k="px",s="LI",i="visibility",t=38,d=40,n=27,g=13,c,u,a,q=v,m=[],o=b.Lang.isNumber,y=b.DOM,w,h="MPServices",p="MenuProvider";function x(){b.Array.each(m,function(A){A.hide();});}function f(B,A){this.node=b.one(B);this.options=A||{};this._items=[];this._selectedIndex=-1;this._visible=v;this._id=-1;this._shim=z;this._autohideId=-1;this._autohideTimer=z;this._compactFilter=this.options.compactFilter||false;this._init();}f.prototype={_init:function(){if(!c){c=l.getService("aria");q=c.isSupported();}var E=this.node,C=b.Node.getDOMNode(E),B=C.firstChild,F=0,A,D;while(B){if(B.nodeType==3){A=B.nextSibling;C.removeChild(B);B=A;}else{D=b.one(B.getElementsByTagName("a")[0]);if(D){this._items.push({element:B,linkElement:D,url:D.get("href")});if(q){c.setRole(B,"presentation");c.setRole(D,"menuitem");c.focusable(D,v);D.removeAttribute("href");}}else{this._items.push({});}if(!B.id){B.id=b.guid();}B.setAttribute(r,F);B=B.nextSibling;F++;}}if(u.isShimNeeded()){this._shim=u.create(E);}if(q){c.setRole(E,"menu");c.hide(E);}E.on("keydown",this._handleKeyDown,this);E.on("click",this._handleMouseEvents,this);E.on("mouseover",this._handleMouseEvents,this);this._id=m.length;m.push(this);},hide:function(B){if(this._visible){var E=this._shim,C=this.node,D=this.options.focusNode,A=null;C.setStyle(i,"hidden");c.hide(C);this._visible=v;if(E){E.hide();}this._clearAutohide();if(this._compactFilter){if(b.one(".troll-pointer").getStyle("zIndex")==8){A=b.one(".troll-pointer").getDOMNode();A.style.cssText="display: none !important";}else{b.one(".troll-pointer").setStyle("display","none");}b.one(".more-tab").removeClass("more-tab-pressed");}this.fire({type:"hide",target:this});if(B&&D){b.one(D).focus();}}},isVisible:function(){return this._visible;},show:function(B,G,E){if(!this._visible){x();var F=B.left,D=B.right,C=this.node,H=this._shim,A=null;E=E||k;if(o(F)){C.setStyle("left",F+E);}else{if(o(D)){C.setStyle("right",D+E);}}C.setStyle("top",B.top+E).setStyle(i,"visible");if(G){this.options.focusNode=G;}if(q){c.show(C);}this.select(0);if(H){H.show();}this._visible=j;if(this._compactFilter){if(b.one(".troll-pointer").getStyle("zIndex")==8){A=b.one(".troll-pointer").getDOMNode();A.style.cssText="display: block !important";}else{b.one(".troll-pointer").setStyle("display","block");}b.one(".more-tab").addClass("more-tab-pressed");}this.fire({type:"show",target:this});this._clearAutohide();this._autohideTimer=b.later(50,this,function(){this._autohideTimer=z;this._autohideId=a.register({targets:[this.node],hide:b.bind(function(){this.hide();},this)});});}},_clearAutohide:function(){var A=this._autohideTimer;a.unregister(this._autohideId);if(A){A.cancel();this._autohideTimer=z;}},_handleMouseEvents:function(C){var D=C.target,B=(D.get("tagName")==s)?D:D.ancestor(s),A=-1;if(B&&B.hasAttribute(r)){C.preventDefault();A=Number(B.getAttribute(r));switch(C.type){case"click":this.execute(A);break;case"mouseover":this.select(A);break;default:}}},_handleKeyDown:function(C){var D=C.target,B=(D.get("tagName")==s)?D:null,A=v;switch(C.keyCode){case d:this.selectNext(j);A=j;break;case t:this.selectPrevious(j);A=j;break;case n:this.hide(j);break;case g:if(B){this.execute(Number(B.getAttribute(r)));}break;default:}if(A){C.preventDefault();}},destroy:function(){var A=this.node,B=this._shim;if(q){A.detach("keydown",this._handleKeyDown);}A.detach("click",this._handleMouseEvents);A.detach("mouseover",this._handleMouseEvents);this._clearAutohide();if(B){B.destroy();}b.Object.each(this,function(C,E,D){delete D[E];});m[this._id]=null;},getSelectedIndex:function(){return this._selectedIndex;},getItemNode:function(A){return this.getItemNodes().item(A);},getItemNodes:function(){return this.node.all("li");},getItemUrl:function(A){return this._items[A].url;},execute:function(A){var C=null,B=null;if(A>=0&&A<this._items.length){this.hide(j);if(this._compactFilter){C=b.one(".more-search");C=C.get("children").item(A);B=b.one(".more-menu-selected");if(B!==null){B.removeClass("more-menu-selected");}C.addClass("more-menu-selected");}this.fire({type:"execute",target:this,relatedTarget:this.getItemNode(A),index:A,url:this._items[A].url});}},selectNext:function(A){if(this._selectedIndex<this._items.length-1){this.select(this._selectedIndex+1);}else{if(A){this.select(0);}}},selectPrevious:function(A){if(this._selectedIndex>0){this.select(this._selectedIndex-1);}else{if(A){this.select(this._items.length-1);}}},select:function(B){if(B!=this._selectedIndex){var D=this._selectedIndex,C=this._items[D],A=this._items[B];if(C){y.removeClass(C.element,e);}if(A&&A.hasOwnProperty("element")){y.addClass(A.element,e);if(q){if(C){c.focusable(C.linkElement,v);}c.focusable(A.linkElement,j);}A.linkElement.focus();this._selectedIndex=B;this.fire({type:"select",target:this,toIndex:B,fromIndex:D});}}}};b.augment(f,b.Event.Target);w={create:function(B,A){return new f(B,A);}};b.namespace(h);b[h][p]={name:"menu",getService:function(B,A){if(!c){c=l.getService("aria");u=l.getService("iframeshim");a=l.getService("autohide");}return w;}};if(l){l.registerService(b[h][p]);}});/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("arcade_transport",function(f){var M=null,ag=false,H=true,S,d=f.ModulePlatform,c=M,ah,i=encodeURIComponent,n=f.Lang,l=f.Object,w=f.Array,N,G,D,e,ab=ag,P={},ad={},ai=[],x,g=ag,u,o,X=0,aj=1,s=2,v=3,C=2048,af=131072,p="_status",Z="_txnid",U="POST",B="GET",h="getProperty",R="MPServices",ac="TransportProvider";function K(L,A){c.error("transport",L,A);}function W(O){var L=M,A;switch(O.type){case"moduleload":L={_action:"show",_create:1,_suid:O.contentId};break;case"setpref":L={_action:"save",_subAction:S,_type:"pref",modid:O.moduleId,_create:1};break;case"loadview":if(O.view=="pa"){A=c.queryModules(function(ak){var Y=c.getModuleApi(ak);return Y&&Y.getProperty("type")=="pa";})[0];L={_action:"show",_subAction:"single",modId:O.moduleId,_container:0,_id:A};}else{L={_action:"show",_subAction:O.view=="default"?S:O.view,_id:O.moduleId,_container:O.chrome?1:0};}break;case"arcade":case"module":L=O.args;L._container=O.chrome?1:0;L._id=O.moduleId;break;default:K("Request doesn't have a type.");break;}O=L?f.merge(L,O):f.mix({},O);delete O.type;delete O.moduleId;delete O.args;return O;}function J(L){var A=L.match(/^((?:\w+:\/\/)?[^#?]+)/);return(A&&n.isArray(A))?A[1]:"";}function aa(L){if(!L){return"";}var A=[];l.each(L,function(Y,O){if(n.isValue(Y)){if(!n.isString(Y)){Y=f.JSON.stringify(Y);}A.push(O+"="+i(Y));}});return A.join("&");}function E(O,am,al){if(!al){K("Proxy request: No module id given, unable to look up proxy signature.");}var ak=J(O.url),Y=c.getModuleState(al).proxy[ak],L,A;if(!Y){K("Proxy request: '"+O.url+"' has not been registered for proxying.");}L=G+"?url="+i(O.url)+"&.sig="+Y+"&.crumb="+N;A={method:O.method,data:O.bodyData,on:am,headers:O.headers};return f.io(L,A);}function b(al,aq,L){if(al.type=="xhr"){return E(al,aq,L).id;}D=D?D:"/jsal";var A=D,an={method:B,on:x},ak={_crumb:N,_mode:"json"},am=c[h]("passthru"),ap,ao,Y,O;if(n.isArray(al)){an.method=U;}else{al=[al];}if(e){ak.pgmode=e;ak.reqSource=e;}ak[Z]=new Date().getTime();w.each(al,function(at,ar){al[ar]=W(at);al[ar][Z]=ak[Z];});if(an.method==B){ap=f.merge(al[0],ak);ao=aa(ap);if(ao.length>2000){an.method=U;}else{A=D+"?"+ao;}}if(am){A+=(A.indexOf("?")>-1?"&":"?")+am;}if(an.method==U){an.data=aa(ak)+"&_json="+i(f.JSON.stringify(al));}Y=f.io(A,an);O=Y.id;P[O]={args:arguments,moduleId:L,conn:Y};if(aq){P[O].callback=aq;}return O;}function m(){if(n.isArray(o)){while(o.length>0){var A=o.shift();b.apply(this,A);}u.detach();u=o=M;}g=ag;}function j(A){g=H;if(A){o=[];u=f.on("unload",f.bind(m,this,H),window);}}function z(ak,Y,O){var L=Y.responseText,A;if(L){A=L.indexOf("<!--");if(A>0){L=L.substring(0,A);}}N=L;m();ab=ag;}function T(O,L,A){K("Unable to update crumb.");}function F(){if(ab){return ag;}ab=H;j(H);var A={success:z,failure:T,scope:this};f.io("/?_mode=html&_action=show&_type=pref&_create=1&_subAction=_cFetch",{method:B,on:A});}function r(O,Y,L){if(g){if(n.isArray(o)){var A=f.Array(arguments);o.push(A);return M;}return ag;}return b(O,Y,L);}function a(L){var A=(P[L]&&P[L].conn&&P[L].conn.isInProgress());return A;}function V(A){if(a(A)){P[A].conn.abort();}else{return false;}}function t(A){if(A&&P[A]&&P[A].args){r.apply(M,P[A].args);delete P[A];delete ad[A];return H;}return ag;}function k(ak,O,A){if(n.isUndefined(O)){O=H;}if(n.isFunction(ak)){ak(ak.argument,A);}else{var L=ak.scope||ak,Y=O?ak.success:ak.failure;if(Y){Y.call(L,A,ak.argument);}}}function y(Y,A,L){var O=P[Y].callback;if(O){k(O,L,A);}if(!n.isUndefined(ad[Y])){if(ad[Y]>1){ad[Y]-=1;}else{delete ad[Y];}}if(n.isUndefined(ad[Y])){delete P[Y];}}function Q(al,A){var L=A._errorCode,Y=A._error,ak=P[al].callback,O={message:Y,moduleId:P[al].moduleId};if(A[p]==aj){if(L==af){if(!ab){F();}t(al);}else{K(Y,O);if(O.moduleId){return;}}}if(ak){k(ak,ag,O);}}function ae(){var A=ai.shift(),O,L;if(A){O=A[Z];if(A[p]!=X){Q(O,A);}else{L=c.getService("resourcemgr");if(A.props&&A.props.id){c.registerModule(A);}if(A.res){L.load(A.res,f.bind(y,M,O,A));}else{y(O,A);}}if(ai.length){n.later(1,this,ae);}}}function I(O,L,A){setTimeout(function(){y(O,L,ag);},0);}function q(ak,Y,A){var O;try{O=f.JSON.parse(Y.responseText);}catch(L){}finally{if(!n.isArray(O)){I(ak,Y,A);return;}}w.each(O,function(am){if(am[p]!=X){Q(ak,am);return;}var al;if(am.response){al=am.response;}else{al=[am];}if(!ad[ak]){ad[ak]=0;}ad[ak]+=al.length;w.each(al,function(an,ao){an._partId=ao;an[Z]=ak;if(!an.data){an.data={};}an.data=f.merge(am.data,an.data);});ai=ai.concat(al);});if(ai.length){n.later(1,this,ae);}}ah={E_OK:X,E_FATAL:aj,E_GLOBAL:s,E_MODULE:v,EC_CRUMB_ERR:C,EC_CRUMB_STALE:af,disable:j,enable:m,isEnabled:function(){return !g;},makeRequest:r,abortRequest:V,isRequestPending:a,_reset:function(){ab=ag;P={};ad={};ai=[];o=M;m();}};x={success:q,failure:I,scope:this};f.namespace(R);f[R][ac]={name:"arcade_transport",getService:function(L,A){if(!c){c=L;N=c[h]("crumb");if(n.isUndefined(N)){N=c[h]("dali").crumb;}G=c[h]("proxyUrl");D=c[h]("requestUrlLite");e=c[h]("pgmode");}return A?M:ah;}};if(d){d.registerService(f[R][ac]);}},"1.0",{requires:["event","io"]});/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("videoyep",function(d){var k=d.ModulePlatform,r=null,n=false,h=true,a,p,s=r,j=r,c=n,m,q=r,g="MPServices",l="VideoyepProvider",e="close-video",f="view-original",i=".video-buttons",b;function o(){this.Y=d;this.videoPlayer=r;this.getHtml();this.error=r;return this;}o.prototype={Y:r,analytics:r,animated:n,attachVideoTo:r,body:r,buttonsNode:r,currentVideo:r,currentVideoProperties:r,config:r,defaultAnalytics:{sec:"",slk:"video",itc:1,g:"",ct:"",cpos:"",test:"",ccode:""},defaultYepConfig:{airplay:h,atlasEnv:"prod",autoplay:n,carousel:n,chromeless:n,comscoreC4:r,comscoreC6:r,continuousPlay:h,expName:r,expType:r,endscreen:n,lang:r,region:r,mute:n,site:"frontpage",pageSpaceId:r,playlist:r,volume:0.6,ybang:n},defaultYepUri:"yep.video.yahoo.com/js/3/videoplayer-min.js",isFullscreen:n,newsSpaceId:"7645365",options:{},playing:n,returnTabIndexToNode:r,scriptLoaded:n,smartphoneAutoPlay:h,videoContainerHTML:r,videoEventListeners:{playback:n,player:h,ads:n,video_events:n},videoPageUrl:r,yepUri:r,init:function(A){var w=A.config,z,H=A.options||{},E=A.analytics,C=w.attach,G=w.location||"append",y=this.animated,t,D,F,v,B=n,x;if(!C){return;}z=w.yep;if(w.image){B=h;F={small:w.image};}if(H.videoEvents){this.videoEventListeners=this.Y.merge(H.videoEvents,this.videoEventListeners);}this.options.yepUri=w.yepUri||this.yepUri||this.getYepUri();if(w){if(!z.playlist&&!z.id){return;}if(z.id){t=z.id;v={mediaItems:[]};if(B){v.mediaItems[0]={id:t,images:F};}else{v.mediaItems[0]={id:t};}z.playlist=v;delete z.id;}this.config=z;}if(!E){return;}else{this.analytics=d.merge(this.defaultAnalytics,E);}x=this.Y.bind(this.initYepPlayer,this);D=this.Y.bind(function u(){this.videoPageUrl=w.videoPageUrl||r;this.currentVideo=t;this.returnTabIndexToNode=w.returnTabIndexTo||r;this.animated=(c)?n:(w.animated||n);this.attachVideoTo=C;this.attachVideoContainer(G,x);},this);if(this.attachVideoTo!==null&&C===this.attachVideoTo){return;}else{if(this.attachVideoTo!==null&&C!==this.attachVideoTo){this.detachVideo(this.body,y,D);}else{D();}}return;},attachVideoContainer:function(A,x){if(!A){A="append";}var C,v,t,B,z,y,u,w,D=n;u=this.Y.bind(function(){var E;if(!D){D=h;this.buttonsNode=this.body.one(i)||null;if(!this.videoPageUrl){E=this.buttonsNode.one("."+f);if(E){E.addClass("hidden");}}if(w){w.cancel();}if(this.Y.Lang.isFunction(x)){x();}}},this);y=this.videoContainerHTML;v=this.attachVideoTo;t=v.get("offsetWidth");B=parseInt(v.getComputedStyle("height").replace("px",""),10);z=Math.floor(t/16*9);this.currentVideoProperties={attachTo:v,height:B,width:t,ratioHeight:z};C=this.Y.Node.create(y);if(this.animated){C.setStyle("opacity",0);}v.addClass("video-active");v[A](C);this.body=this.Y.one(".yep-service");if(this.animated){if(q==="smartphone"&&this.Y.UA.android){w=this.Y.later(600,this,function(){u();},this);}this.body.transition({duration:0.5,easing:"ease-out",height:z+"px",opacity:1},u);v.transition({duration:0.5,easing:"ease-out",height:z+"px"});}else{if(c&&B<z){v.setStyle("height",z+"px");}u();}},detachVideo:function(x,w,t){var z,y,u;this.pause();if(!x){if(!this.body){return;}x=this.body;}u=this.currentVideoProperties.attachTo;z=this.Y.bind(function v(){if(y){y.cancel();}this.destroy();x.remove();this.animated=false;this.attachVideoTo=r;this.playing=n;this.currentVideo=r;this.currentVideoProperties=r;if(u){u.removeClass("video-active");}if(this.Y.Lang.isFunction(t)){t();}else{if(this.returnTabIndexToNode){this.returnTabIndexToNode.focus();this.returnTabIndexToNode=r;}}},this);if(w){x.transition({duration:0.5,easing:"ease-out",delay:0,opacity:0});u.transition({duration:0.5,easing:"ease-out",delay:0,height:this.currentVideoProperties.height+"px"},z);if(q==="smartphone"&&this.Y.UA.android){y=this.Y.later(600,this,function(){z();},this);}}else{u.setStyle("height",this.currentVideoProperties.height+"px");z();}},adsRoulette:function(){var u=Math.round(Math.random()*1),t=Math.round(Math.random()*1);if(u===t){return true;}return false;},initYepPlayer:function(w){if(!w){w=this.config;}w.region=s.getProperty("intl").toUpperCase();w.lang=s.getProperty("lang");w.pageSpaceId=s.getProperty("ultSpaceId");if(a){if(!p||(p&&this.adsRoulette())){w.pageSpaceId=this.newsSpaceId;w.YVAP={accountId:"616",playContext:"15749658"};}}if(!w.hasOwnProperty("comscoreC4")){w.comscoreC4=w.region+" Homepages";}if(!w.hasOwnProperty("expType")){w.expType=s.getProperty("ywa.rapid.bucket.id");}if(!w.hasOwnProperty("expName")){w.expName="hr"+s.getProperty("device.type");}w=this.Y.merge(this.defaultYepConfig,w);this.config=w;this.analytics.test=w.expType;var v="https:"==document.location.protocol?"https://":"http://",u=this,t;if(!this.scriptLoaded){t=function(){u.Y.use("videoplayer",function(x){u.Y=x;u.scriptLoaded=h;u.render();});};this.Y.Get.script([v+this.options.yepUri],{context:this,onSuccess:t});}else{this.render();}},getYepUri:function(){var t;if(!this.yepUri){t=s.getProperty("yep.player");if(t!==""){this.yepUri=t;}else{this.yepUri=this.defaultYepUri;}}return this.yepUri;},getHtml:function(){if(!this.videoContainerHTML){this.videoContainerHTML=s.getProperty("yep.markup");}return this.videoContainerHTML;},render:function(w,v){var u,t=this.Y.bind(this.handleVideoEvent,this);if(!w){w=this.config;}if(this.scriptLoaded){u=this.body.one(".yep-video-player");if(!u){return;}this.videoPlayer=new this.Y.VideoPlatform.VideoPlayer(w);this.videoPlayer.render(u);this.registerVideoEvents(this.videoEventListeners);this.body.on("click",t);if(this.Y.Lang.isFunction(v)){v.apply(r,[this]);}}},play:function(){if(this.scriptLoaded&&this.videoPlayer){this.videoPlayer.controls.play();}return r;},pause:function(){if(this.scriptLoaded&&this.videoPlayer){this.videoPlayer.controls.pause();}return r;},getVideoPlayer:function(){if(this.scriptLoaded&&this.videoPlayer){return this.videoPlayer;}return r;},registerVideoEvents:function(B){var y=d.bind(this.handleVideoEvent,this),u=["PLAYBACK_PAUSE","PLAYBACK_SEEK_COMPLETE","PLAYBACK_TIME_UPDATE"],A=["PLAYER_ERROR","PLAYER_FULLSCREEN_CHANGE","PLAYER_MUTE_CHANGE","PLAYER_RENDERED","PLAYER_VOLUME_CHANGE"],v=["AD_ERROR","AD_PLAYBACK_PROGRESS","AD_PLAYBACK_START","AD_PLAYBACK_STOP"],x=["BITRATE_CHANGE","DURATION_CHANGE"],t=["UI_INTERACT","PLAYBACK_START","PLAYBACK_COMPLETE","PLAYBACK_READY"],w=this.videoPlayer;if(!B){B={playback:n,player:n,ads:n,video_events:n};}function z(C,D){this.Y.Array.each(C,function(E){w.on(d.VideoPlatform.API_Events[E],y);});}if(B.playback){z(u,y);}if(B.player){z(A,y);}if(B.ads){z(v,y);}if(B.video_events){z(x,y);}z(t,y);},destroy:function(){this.videoPlayer.destroy();this.videoPlayer=r;this.videoPageUrl=r;this.error=r;},handleVideoEvent:function(u){var t=u.target;switch(u.type){case"VideoPlayer:playbackReady":if(q==="smartphone"||q==="hrtablet"){this.updateStartScreen();}break;case"VideoPlayer:playerError":case"VideoPlayer:playbackError":if(this.videoPageUrl){this.gotoDownstreamPage(this.videoPageUrl,true);}this.detachVideo(this.body,this.animated);break;case"VideoPlayer:uiInteract":if(u.srcElement==="controlsPlayButton"){this.handleInstrumentation();this.playing=h;}break;case"VideoPlayer:playbackStart":this.handleInstrumentation();this.playing=h;if(this.buttonsNode){this.buttonsNode.focus();}break;case"VideoPlayer:fullscreenChange":this.isFullscreen=(!this.isFullscreen)?h:n;if(this.playing&&q==="smartphone"&&!this.isFullscreen){this.playing=n;this.detachVideo(this.body,this.animated);}break;case"VideoPlayer:playbackComplete":this.playing=n;if(!this.config.endscreen){this.detachVideo(this.body,this.animated);}break;case"click":this.handleClick(t);if(u.stopPropagation){u.stopPropagation();}break;default:break;}},fakeStartScreen:function(){var u=this.body.one(".yui3-videoplayer-startscreen-container"),t;if(!this.startScreen){t=this.body.one(".yep-startscreen");if(!t){return;}t.removeClass("hidden");this.startScreen=t.get("outerHTML");t.remove();}if(u){u.setContent(this.startScreen);}},updateStartScreen:function(){var t=this.videoPlayer.playlist.getCurrentItem(),v=(t.images!==r)?t.images.small:r,u=this.body.one(".yui3-videoplayer-startscreen-image");if(u&&v){u.setAttribute("src",v);u.setStyles({width:"100%",height:"100%",display:"block",top:"0px",left:"0px"});}},handleClick:function(u){var t=u.ancestor("button",true,"div");if(!t){return;}if(t.hasClass(e)){this.detachVideo(this.body,this.animated);}else{if(t.hasClass(f)){if(this.videoPageUrl){this.pause();this.gotoDownstreamPage(this.videoPageUrl,false);}}}return;},gotoDownstreamPage:function(t,u){if(u){this.analytics.slk="video-error";}this.analytics.itc=0;this.handleInstrumentation();s.navigate(m,decodeURIComponent(t));},handleInstrumentation:function(){var t=this.videoPlayer.playlist.getCurrentItem();if(t){this.analytics.g=t.id;this.broadcastInstrumentation();}},broadcastInstrumentation:function(t){if(!t){t=this.analytics;}j.fireBeacon(t);}};b={create:function(){return b.getInstance();},instance:r,getInstance:function(){if(!b.instance){b.instance=new o();}return b.instance;}};d.namespace(g);d[g][l]={name:"videoyep",getService:function(u,t){if(!s){s=u;}if(!c){c=(d.UA.ie&&d.UA.ie<8)?h:n;}if(!j){j=u.getService("instrumentation");}if(!m){m=t;}if(!a){a=s.getProperty("inline.video.ads.enabled")||0;p=s.getProperty("inline.video.ads.rotation.type")||0;}if(!q){q=s.getProperty("pgmode")||"desktop";}return b;}};if(k){k.registerService(d[g][l]);}});/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("base64",function(c){var a="Base64 encode/decode by http://www.webtoolkit.info/";var b={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(f){var d="";var n,l,j,m,k,h,g;var e=0;f=b._utf8_encode(f);while(e<f.length){n=f.charCodeAt(e++);l=f.charCodeAt(e++);j=f.charCodeAt(e++);m=n>>2;k=((n&3)<<4)|(l>>4);h=((l&15)<<2)|(j>>6);g=j&63;if(isNaN(l)){h=g=64;}else{if(isNaN(j)){g=64;}}d=d+this._keyStr.charAt(m)+this._keyStr.charAt(k)+this._keyStr.charAt(h)+this._keyStr.charAt(g);}return d;},decode:function(f){var d="";var n,l,j;var m,k,h,g;var e=0;f=f.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(e<f.length){m=this._keyStr.indexOf(f.charAt(e++));k=this._keyStr.indexOf(f.charAt(e++));h=this._keyStr.indexOf(f.charAt(e++));g=this._keyStr.indexOf(f.charAt(e++));n=(m<<2)|(k>>4);l=((k&15)<<4)|(h>>2);j=((h&3)<<6)|g;d=d+String.fromCharCode(n);if(h!=64){d=d+String.fromCharCode(l);}if(g!=64){d=d+String.fromCharCode(j);}}d=b._utf8_decode(d);return d;},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");var d="";for(var g=0;g<e.length;g++){var f=e.charCodeAt(g);if(f<128){d+=String.fromCharCode(f);}else{if((f>127)&&(f<2048)){d+=String.fromCharCode((f>>6)|192);d+=String.fromCharCode((f&63)|128);}else{d+=String.fromCharCode((f>>12)|224);d+=String.fromCharCode(((f>>6)&63)|128);d+=String.fromCharCode((f&63)|128);}}}return d;},_utf8_decode:function(d){var e="";var f=0;var g=c1=c2=0;while(f<d.length){g=d.charCodeAt(f);if(g<128){e+=String.fromCharCode(g);f++;}else{if((g>191)&&(g<224)){c2=d.charCodeAt(f+1);e+=String.fromCharCode(((g&31)<<6)|(c2&63));f+=2;}else{c2=d.charCodeAt(f+1);c3=d.charCodeAt(f+2);e+=String.fromCharCode(((g&15)<<12)|((c2&63)<<6)|(c3&63));f+=3;}}}return e;}};c.namespace("Base64");c.Base64=b;},"@VERSION@",{});/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("ld_geo",function(b){var a={_running:false,geoDetectSupport:function(d){var c=d;if(!navigator.geolocation){c=false;}return c;},getCurrentLocation:function(d,c,e){if(!this._running){navigator.geolocation.getCurrentPosition(d,c,{timeout:e});this._running=true;}}};b.namespace("LD");b.LD.GeoLocation=a;},"@VERSION@",{});/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("ld_geocoder",function(b){var a={proto:"http://",host:"locdrop.query.yahoo.com",table:"locdrop.placefinder",urlPath:"/v1/public/yql?",flags:"f",locale:"en_US",timeout:5000,init:function(c){if(c.geoCoderProtocol){this.proto=c.geoCoderProtocol;}if(c.geoCoderHost){this.host=c.geoCoderHost;}else{if(c.yqlHost){this.host=c.yqlHost;}}if(c.geoCoderTable){this.table=c.geoCoderTable;}if(c.geoCoderURLPath){this.urlPath=c.geoCoderURLPath;}if(c.geoCoderFlags){this.flags=c.geoCoderFlags;}if(c.locale){this.locale=c.locale;}if(c.geoCoderTimeout){this.urlPath=c.geoCoderTimeout;}},geocodeString:function(d,g,c){if(d==null){return;}var f=(d+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0");var e="select * from "+this.table+' where text="';e=e+encodeURIComponent(f)+'" and locale="'+this.locale+'"';if(this.flags.length>0){e+=' and gflags="'+this.flags+'"';}this.geocode(e,g,c);},geocodeWOEID:function(e,f,c){var d="select * from "+this.table+' where woeid="';d=d+e+'" and locale="'+this.locale+'"';this.geocode(d,f,c);},geocode:function(g,h,e){var f=this.proto+this.host+this.urlPath+"q="+g+"&format=json&callback={callback}";var d={instance:this,context:e,cb:h,requestURL:f};var c=new b.JSONPRequest(f,{on:{success:this.done,timeout:this.timedout,failure:this.failure},timeout:this.timeout,args:[d]});c.send();},done:function(c,d){if(typeof(c)=="undefined"||typeof(c.error)!="undefined"||typeof(c.query.results)=="undefined"){d.instance.failure(c,d);}else{d.cb(d.context,c);}},timedout:function(c,d){var e={errCode:"YQL_QUERIED_LOC_FETCH_TIMEOUT",requestURL:d.requestURL,yqlResponse:c};d.cb(d.context,e);},failure:function(c,d){var e={errCode:"YQL_QUERIED_LOC_API_ERR",requestURL:d.requestURL,yqlResponse:c};d.cb(d.context,e);},makeLocArray:function(h,n,c){var f=null;if(h==1){f=new Array();f.push(n.query.results.Result);}else{f=n.query.results.Result;}var e;var l=f.length;var g=[];var d=0;for(e=0;e<l;e++){var k="";if(f[e].line1!=null){k=f[e].line1;}if(f[e].line2!=null){if(k.length>0){k+=", ";}k+=f[e].line2;}if(f[e].line3!=null){if(k.length>0){k+=", ";}k+=f[e].line3;}if(f[e].line4!=null){if(k.length>0){k+=", ";}k+=f[e].line4;}f[e].id="new-"+b.Base64.encode(k);f[e].addr=k;if(f[e].uzip!=null&&f[e].uzip!=""&&f[e].uzip!="0"){f[e].zip=f[e].uzip;}if(f[e].statecode!=null){f[e].sc=f[e].statecode;}if(f[e].countrycode!=null){f[e].cc=f[e].countrycode;}if(f[e].country!=null){f[e].ctry=f[e].country;}if(f[e].latitude!=null){f[e].lat=f[e].latitude;}if(f[e].longitude!=null){f[e].lon=f[e].longitude;}if(f[e].woeid!=null){f[e].woe=f[e].woeid;}var m=true;if(c&&!c(f[e])){m=false;}if(m){g[d]=f[e];d++;}}return g;}};b.namespace("LD");b.LD.PlaceFinderYQL=a;},"@VERSION@",{requires:["jsonp","jsonp-url"]});/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("ld_autosuggest",function(b){var a={proto:"http://",host:"sugg.us.search.yahoo.net",urlPath:"/gossip-us-location?output=sd1&p2=t",locale:"en_US",timeout:5000,init:function(c){if(c.gossipProtocol){this.proto=c.gossipProtocol;}if(c.gossipHost){this.host=c.gossipHost;}if(c.gossipURLPath){this.urlPath=c.gossipURLPath;}if(c.locale){this.locale=c.locale;}if(c.gossipTimeout){this.urlPath=c.gossipTimeout;}},fetch:function(e,h,c,i,k){if(e==null){return;}var g=(e+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0");var d=this.proto+this.host+this.urlPath;if(h!==null&&c!==null){d+="&p1="+c+","+h;}d+="&command="+g;d+="&callback={callback}";var j={instance:this,context:k,cb:i,requestURL:d};var f=new b.JSONPRequest(d,{on:{success:this.done,timeout:this.timedout,failure:this.failure},timeout:this.timeout,args:[j]});f.send();},done:function(c,d){if(typeof(c)=="undefined"||typeof(c.r)=="undefined"){d.instance.failure(c,d);}else{d.cb(d.context,c);}},timedout:function(c,d){var e={errCode:"YQL_QUERIED_LOC_FETCH_TIMEOUT",requestURL:d.requestURL,yqlResponse:c};d.cb(d.context,e);},failure:function(c,d){var e={errCode:"YQL_QUERIED_LOC_API_ERR",requestURL:d.requestURL,yqlResponse:c};d.cb(d.context,e);},makeLocArray:function(h,d,c){var g,e,k,m=h.length,f=0,n=[];for(g=0;g<m;g++){var l="";if(h[g].d!=null){e=h[g].d;if(e.indexOf("t=t&")!=-1){e=(e.split("&"))[1];}k=e.split("=");h[g].woe=k[1];}if(h[g].k!=null){l=h[g].k;h[g].id="new-"+b.Base64.encode(l);h[g].addr=l;}if(((h[g].addr).toUpperCase()).indexOf(c.toUpperCase())!=-1){var o=true;if(d&&!d(h[g])){o=false;}if(o){n[f]={};n[f].id=h[g].id;n[f].woe=h[g].woe;n[f].addr=h[g].addr;if(h[g].disabled!=null){n[f].disabled=h[g].disabled;}f++;}}}return n;}};b.namespace("LD");b.LD.PlaceSuggest=a;},"@VERSION@",{requires:["jsonp","jsonp-url"]});/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("ld_yql",function(b){var a={proto:"http://",yqlHost:"us-locdrop.query.yahoo.com",yqlTable:"user.location.public",urlPath:"/v1/public/yql?",namespace:"LocdropYQLAccess",crumb:null,pendingCallback:false,yqlTimeout:50000,cacheData:{keys:[],vals:[]},setCrumb:function(c){if(this.crumb==null){this.crumb=c;}},setYqlTimeout:function(c){this.yqlTimeout=c;},setYqlHost:function(c){this.yqlHost=c;},init:function(c){if(c.crumb){this.crumb=c.crumb;}if(c.yqlHost){this.yqlHost=c.yqlHost;}if(c.yqlTimeout){this.yqlTimeout=c.yqlTimeout;}},url:function(){var c=this.proto+this.yqlHost+this.urlPath;return c;},addRequest:function(h,g,f){var e=this.url()+"q="+h;e+="&format=json&callback={callback}";var d={callbackStr:g,context:f,instance:this,requestURL:e};if(b.Get._pending&&b.Get._pending.transaction){b.Get._pending=null;}if(this.pendingCallback){this.LocdropYQLDataTimeout("",d);return false;}else{this.pendingCallback=true;}var c=new b.JSONPRequest(e,{on:{success:this.LocdropYQLDataCallback,timeout:this.LocdropYQLDataTimeout,failure:this.LocdropYQLDataFailure},timeout:this.yqlTimeout,args:[d]});c.send();return true;},getCtxTypeLocs:function(c,f){var e=c+"-"+f;for(var d=0;d<this.cacheData.keys.length;d++){if(this.cacheData.keys[d]==e){return this.cacheData.vals[d];break;}}return null;},fetchCtxTypeLocs:function(c,e,h,d){if(this.getCtxTypeLocs(c,e)!=null){return false;}var g={ctx:c,type:e,callback:h,context:d};var f="select%20*%20from%20"+this.yqlTable+"%20where%20ctx%3D%22"+c+"%22%20and%20type%3D%22"+e+"%22%20and%20crumb%3D%22"+this.crumb+"%22";return this.addRequest(f,"fetchCtxTypeCallback",g);},decodeLocation:function(f){for(var d=0;d<f.length;d++){var c=f[d].key;var e=f[d].content;if(e!=null){if(f[d].encoding!=null){e=b.Base64.decode(e);}if(c!="dtime"){this[c]=e;}else{this["dtime"]=Date.parse(e);}}}},parseLocations:function(e){var f=new Array();if(typeof(e.query.results.Response.Attribute.Item)!="undefined"&&typeof(e.query.results.Response.Attribute.Item)=="object"){if(e.query.results.Response.Attribute.Item.length){var c=e.query.results.Response.Attribute.Item;}else{var c=new Array();c.push(e.query.results.Response.Attribute.Item);}for(var d=0;d<c.length;d++){f[d]=new this.decodeLocation(c[d].Item);}}return f;},fetchCtxTypeCallback:function(f,d){if(d.context!=null){d.context.errObj=d.errObj;}if(d.errObj.errCode){if(d.callback!=null){d.callback(d.context);}return;}var l=d.ctx+"-"+d.type;var h=this.parseLocations(f);for(var g=0;g<this.cacheData.keys.length;g++){if(this.cacheData.keys[g]==l){this.cacheData.vals[g]=h;break;}}if(g==this.cacheData.keys.length){this.cacheData.vals.push(h);this.cacheData.keys.push(l);}for(var c=0;c<h.length;c++){var j=null;var m=h[c].id;if(m.search("global-default-")!=-1){l="global-default";j=c;}else{if(m.search("global-physical-")!=-1){l="global-physical";j=c;}else{if(m.search("global-checkin-")!=-1){l="global-checkin";j=c;}else{if(m.search("local-saved-")!=-1){l="local-saved";j=c;}else{if(m.search("search-saved-")!=-1){l=m;j=c;}}}}}if(j!=null){for(var e=0;e<this.cacheData.keys.length;e++){if(this.cacheData.keys[e]==l){this.cacheData.vals[e]=h[j];break;}}this.cacheData.vals.push(h[j]);this.cacheData.keys.push(l);}}if(d.callback!=null){d.callback(d.context);}},deleteLoc:function(g,h,d){var c=g;var e={id:g,callback:h,widget:d};var f="DELETE%20from%20"+this.yqlTable+"%20where%20id%3D%22"+c+"%22%20and%20crumb%3D%22"+this.crumb+"%22";return this.addRequest(f,"deleteCallback",e);},deleteCallback:function(c,e){if(e.widget!=null){e.widget.errObj=e.errObj;}if(!e.errObj.errCode){var d;for(d=0;d<this.cacheData.keys.length;d++){this.cacheData.vals[d]=null;}}if(e.callback!=null){e.widget.response=c;e.callback(e.widget);}},setUse:function(g,c,h,d){var e={ctx:c,id:g,callback:h,context:d};var f="UPDATE%20"+this.yqlTable+"%20SET%20used%20%3D%20%22true%22%20where%20id%3D%22"+g+"%22%20and%20ctx%3D%22"+c+"%22%20and%20crumb%3D%22"+this.crumb+"%22";return this.addRequest(f,"setUseCallback",e);},setUseCallback:function(c,e){if(e.context!=null){e.context.errObj=e.errObj;}if(e.errObj.errCode){if(e.callback!=null){e.callback(e.context);}return;}var d;for(d=0;d<this.cacheData.keys.length;d++){this.cacheData.vals[d]=null;}if(e.callback!=null){e.context.response=c;e.callback(e.context);}},addLatLon:function(h,c,k,i,f,j,d){var e={callback:j,context:d,detect:true};var g="insert%20into%20"+this.yqlTable+"%20(app%2C%20lat%2C%20lon%2C%20ctx%2C%20type%2C%20crumb)%20values%20(%22"+f+"%22%2C%20%22"+h+"%22%2C%20%22"+c+"%22%2C%20%22"+k+"%22%2C%20%22"+i+"%22%2C%20%22"+this.crumb+"%22)";return this.addRequest(g,"addCallback",e);},findLocByCoords:function(f,g,h,c){var e={callback:h,context:c},d='select%20*%20from%20locdrop.placefinder%20where%20text="'+f+","+g+'"%20AND%20gflags="R"';return this.addRequest(d,"addCallback",e);},addWoe:function(g,c,e,h,j,d){var i={callback:j,context:d};var f="insert%20into%20"+this.yqlTable+"%20(app%2C%20woe%2C%20ctx%2C%20type%2C%20crumb)%20values%20(%22"+h+"%22%2C%20%22"+g+"%22%2C%20%22"+c+"%22%2C%20%22"+e+"%22%2C%20%22"+this.crumb+"%22)";return this.addRequest(f,"addCallback",i);},addPoint:function(h,i,c,l,j,f,k,d){var e={callback:k,context:d};var g="insert%20into%20"+this.yqlTable+"%20(app%2C%20address%2C%20lat%2C%20lon%2C%20ctx%2C%20type%2C%20crumb)%20values%20(%22"+f+"%22%2C%20%22"+h+"%22%2C%20%22"+i+"%22%2C%20%22"+c+"%22%2C%20%22"+l+"%22%2C%20%22"+j+"%22%2C%20%22"+this.crumb+"%22)";return this.addRequest(g,"addCallback",e);},addPlace:function(g,i,k,h,e,j,c){var d={callback:j,context:c};var f="insert%20into%20"+this.yqlTable+"%20(app%2C%20address%2C%20woe%2C%20ctx%2C%20type%2C%20crumb)%20values%20(%22"+e+"%22%2C%20%22"+g+"%22%2C%20%22"+i+"%22%2C%20%22"+k+"%22%2C%20%22"+h+"%22%2C%20%22"+this.crumb+"%22)";return this.addRequest(f,"addCallback",d);},addCallback:function(c,e){if(e.context!=null){e.context.errObj=e.errObj;}if(e.errObj.errCode){if(e.callback!=null){e.callback(e.context);}return;}var d;for(d=0;d<this.cacheData.keys.length;d++){this.cacheData.vals[d]=null;}if(e.callback!=null){e.context.response=c;e.callback(e.context);}},queryTypeErroCode:function(d){var c="YQL_GET_API_ERR";var e=new RegExp(d,"i");if(!e.test("select")){c="YQL_SET_API_ERR";}return c;},responseErrorCheck:function(c,e){var d={errCode:0,requestURL:e,yqlResponse:c};if((typeof c==="undefined"||typeof c.error!=="undefined")||(typeof c.query==="undefined"||typeof c.query.results==="undefined"||c.query.results==null)||(typeof c.query.results.Error!=="undefined")||(typeof c.query.results.result!=="undefined")){d.errCode=this.queryTypeErroCode(e);return d;}if(typeof c.query.results.Response!="undefined"&&typeof c.query.results.Response.Attribute!="undefined"&&typeof c.query.results.Response.Attribute.status!="undefined"&&typeof c.query.results.Response.Attribute.actionTaken!="undefined"&&c.query.results.Response.Attribute.status=="ERROR"){switch(c.query.results.Response.Attribute.actionTaken){case"get":d.errCode="YQL_GET_API_ERR";break;case"set":d.errCode="YQL_SET_API_ERR";break;default:return;}return d;}return d;},detectFailureCheck:function(c){if((c.detect)&&c.errObj.errCode){c.errObj.errCode="LW_DETECT_ERR";}return c.errObj;},LocdropYQLDataCallback:function(d,c){c.instance.pendingCallback=false;c.context.errObj=c.instance.responseErrorCheck(d,c.requestURL);c.context.errObj=c.instance.detectFailureCheck(c.context);c.instance[c.callbackStr](d,c.context);},LocdropYQLDataTimeout:function(d,c){c.instance.pendingCallback=false;c.context.errObj={errCode:"YQL_SAVED_LOC_FETCH_TIMEOUT",requestURL:c.requestURL,yqlResponse:d};c.context.errObj=c.instance.detectFailureCheck(c.context);c.instance[c.callbackStr](d,c.context);},LocdropYQLDataFailure:function(d,c){c.instance.pendingCallback=false;c.context.errObj=c.instance.responseErrorCheck(d);var e=c.instance.queryTypeErroCode(c.requestURL);c.context.errObj={errCode:e,requestURL:c.requestURL,yqlResponse:d};c.context.errObj=c.instance.detectFailureCheck(c.context);c.instance[c.callbackStr](d,c.context);}};b.namespace("LD");b.LD.LocdropYQL=a;},"@VERSION@",{requires:["jsonp","jsonp-url"]});/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("ld_core",function(a){var b={AC_FL:"fl",AC_GOSSIP:"gossip",AC_SAVED:"saved",POINT_LOC:"point",PLACE_LOC:"place",gossipResults:[],upapiCurLoc:null,upapiDefLoc:null,detectCtx:null,detectWaitTimeout:null,holderSetTimeout:null,ctx:null,type:null,app:null,initConfig:function(c){this.ctx=c.ctx||"*";this.type=c.type||"*";this.app=c.app||"universal_location_widget__v2";this.detectWaitTimeout=c.detectWaitTimeout||15000;},defaultSuggestFilter:function(c){return true;},getSavedLocationsCallback:function(d){var o=d.cb;var p=d.context;var f="addr";if(d.level){f=d.level;}if(d.errObj.errCode){o(p,d.errObj);}else{var c=d.filter;if(c==null){c=d.instance.defaultSuggestFilter;}var k=d.prefix.toUpperCase();var e=a.LD.LocdropYQL.getCtxTypeLocs("*","*");var l=[];var g=0;for(var h=0;h<e.length;h++){if(c(e[h])){if(k.length==0){l[g]=e[h];g++;}else{var m=d.instance.getAddressStr(e[h],f);if(m==null){m="";}var n=location.lbl;if(n==null){n="";}if((m.toUpperCase().indexOf(k)===0)||(n.toUpperCase().indexOf(k)===0)){l[g]=e[h];g++;}}}}o(p,l);}},getSavedLocations:function(h,f,e,i,d){if(!h){h="";}var c={instance:this,filter:f,context:d,cb:i,prefix:h,level:e,errObj:{}};var g=a.LD.LocdropYQL.getCtxTypeLocs("*","*");if(g){this.getSavedLocationsCallback(c);}else{a.LD.LocdropYQL.fetchCtxTypeLocs("*","*",this.getSavedLocationsCallback,c);}},setExtractedLocs:function(c,d){if(this.upapiCurLoc==null){this.upapiCurLoc=c;}if(this.upapiDefLoc==null){this.upapiDefLoc=d;}},processGeocoderResults:function(c,e){var f=c.query.count;var g=null;if(f!=0){g=a.LD.PlaceFinderYQL.makeLocArray(f,c,e);var d;for(d=0;d<g.length;d++){g[d].app=this.app;g[d].ctx=this.ctx;g[d].type=this.type;}g=g.sort(this.disabledSorter);}return g;},canBeAdded:function(f,d,c){var k=f.id;var g=this.getStr(f,c);for(var e=0;e<d.length;e++){var j=d[e];if(k==j.id){return false;}var h=this.getStr(j,c);if(h==g){return false;}}return true;},getStr:function(c,d){var e=c.lbl;var f=null;if((c.lbl!=null)&&(c.lbl!="")){f=c.lbl;}else{f=this.getAddressStr(c,d);}if(f==null){return null;}return f;},isCurrentOrDefault:function(c){if(c.ctx=="global"&&c.type=="default"){if(c.id.indexOf("global-")!=-1){return true;}}if(c.ctx=="global"&&c.type=="physical"){if(c.id.indexOf("global-")!=-1){return true;}if(c.id=="id_current"){return true;}}return false;},mergeLocationLists:function(d,c,e){var k=[];var h=null;var l=null;var f=0;for(var g=0;g<d.length;g++){if(this.isCurrentOrDefault(d[g])){if(d[g].type=="physical"){if(!h||h.id=="id_current"){h=d[g];}}else{l=d[g];}}else{if(this.canBeAdded(d[g],k,e)){k[f]=d[g];f++;}}}for(var g=0;g<c.length;g++){if(this.isCurrentOrDefault(c[g])){if(c[g].type=="physical"){if(!h||h.id=="id_current"){h=c[g];}}else{l=c[g];}}else{if(this.canBeAdded(c[g],k,e)){k[f]=c[g];f++;}}}if(h){k[f]=h;f++;}if(l){k[f]=l;f++;}return k;},processSuggestionResults:function(c,e){var d=a.LD.PlaceSuggest.makeLocArray(c,null,e);this.gossipResults[e]=d;return d;},getFilteredSuggestions:function(g,e){var f=[];if(e==null){e=this.defaultSuggestFilter;}var c=0;for(var d=0;d<g.length;d++){if(e(g[d])){f[c]=g[d];f[c].app=this.app;f[c].ctx=this.ctx;f[c].type=this.geoPlaceType;f[c].src=this.AC_GOSSIP;c++;}}return f;},suggestDone:function(e,d){if(d.errObj){e.cb(e.context,d);}else{var f=e.instance.processSuggestionResults(d.r,e.searchString);var c=e.instance.getFilteredSuggestions(f,e.filter);e.cb(e.context,c);}},getSuggestions:function(g,f,h,e){if(g==null||g===""){h(e,[]);return;}if(typeof(this.gossipResults[g])!=="undefined"){var c=this.getFilteredSuggestions(this.gossipResults[g],f);h(e,c);return;}var d={instance:this,filter:f,context:e,cb:h,searchString:g};if(this.upapiCurLoc!=null){a.LD.PlaceSuggest.fetch(g,this.upapiCurLoc.lat,this.upapiCurLoc.lon,this.suggestDone,d);}else{a.LD.PlaceSuggest.fetch(g,null,null,this.suggestDone,d);}},geocodingDone:function(d,c){if(c.errObj){d.cb(d.context,e);}else{var e=d.instance.processGeocoderResults(c,d.filter);d.cb(d.context,e);}},geocodeAddress:function(e,f,g,d){if(e!=null){var c={instance:this,filter:f,context:d,cb:g,searchString:e};a.LD.PlaceFinderYQL.geocodeString(e,this.geocodingDone,c);}},disabledSorter:function(d,c){if(d.disabled==c.disabled){return 0;}else{if(d.disabled){return 1;}}return -1;},getAddressStr:function(c,d){if((c.src&&c.src==this.AC_GOSSIP)||(c.disabled)){var e=c.addr;return e;}else{var e=c[d];}if(e==null){return null;}if(d=="zip"){if(e==""||e=="0"){return null;}if(c.city!=null){e=c.city+", "+e;}}if(d=="city"){if(typeof(c.sc)!="undefined"&&c.sc!=null){if(e.length>0){e+=", ";}e+=c.sc;}if((c.cc&&c.cc!=="US")||(c.ctry&&c.ctry!=="United States")){if(e.length>0){e+=", ";}e+=c.cc;}}return e;},getSelectedLocation:function(g,e){var f=null;if(g.search("new-")==0){addr=a.Base64.decode(g.substr(4));var d=e;for(var c=0;c<d.length;c++){if(d[c].id==g){f=d[c];return f;}}}else{var d=a.LD.LocdropYQL.getCtxTypeLocs("*","*");for(var c=0;c<d.length;c++){if(d[c].id==g){f=d[c];return f;}}}if(f==null){if(g=="id_current"){f=this.upapiCurLoc;}else{if(g=="id_regzip"){f=this.upapiDefLoc;}}}return f;},deleteLoc:function(c,e,d){a.LD.LocdropYQL.deleteLoc(c,e,d);},setUseCallback:function(d){var c=d.context;var f=d.cb;var e=d.id;if(d.errObj.errCode){if(f){f(c,{errObj:d.errObj,id:e,loc:d.loc});}return;}if((typeof(d.response)!="undefined"&&typeof(d.response.query.results.Response.Result)!="undefined")){e=d.response.query.results.Response.Result;}f(c,{id:e,loc:d.loc});},markLocationUsed:function(h,c,f,g,d){if(c=="global"){g(callCtx,{id:h,loc:e.loc});return;}var e={instance:this,context:d,cb:g,id:h,loc:f,ctx:c};a.LD.LocdropYQL.setUse(h,c,this.setUseCallback,e);},setCallback:function(d){var c=d.context;var f=d.cb;if(d.errObj.errCode){if(f){c.errObj=d.errObj;f(c,{errObj:d.errObj,id:d.id,loc:d.loc});}return;}var e=d.id;if((typeof(d.response)!="undefined"&&typeof(d.response.query.results.Response.Result)!="undefined")){e=d.response.query.results.Response.Result;}d.instance.markLocationUsed(e,d.ctx,d.loc,f,c);},selectLocation:function(c,k,i,d,f,j,g){var e=this.getSelectedLocation(c,f);if(e==null){j(g,{id:c,loc:null});return;}var h={instance:this,context:g,cb:j,id:e.id,ctx:k,loc:e};if(c.indexOf("new-")===-1&&e.ctx!="global"&&e.type!="physical"){this.markLocationUsed(e.id,k,e,j,g);}else{if(e.ctx=="global"&&e.type=="physical"){a.LD.LocdropYQL.addPlace(e.addr,e.woe,k,i,d,this.setCallback,h);}else{if(this.getLocationType(e)==this.POINT_LOC){a.LD.LocdropYQL.addPoint(e.addr,e.lat,e.lon,k,i,d,this.setCallback,h);}else{a.LD.LocdropYQL.addPlace(e.addr,e.woe,k,i,d,this.setCallback,h);}}}},getLocationType:function(c){if(c.quality>=80){return this.POINT_LOC;}else{if(c.quality>=70){if(c.quality!=74){return this.POINT_LOC;}}else{if(c.quality>50){if((c.quality==65)||(c.quality==64)||(c.quality==63)){return POINT_LOC;}}else{if(c.house&&c.street){return this.POINT_LOC;}}}}return this.PLACE_LOC;},detectSuccess:function(d){var c=a.LD.Core;a.LD.GeoLocation._running=false;if(c.holderSetTimeout){clearTimeout(c.holderSetTimeout);}var d=c.detectCtx;d.cb(d.context,null);},detectFailed:function(e){var c=a.LD.Core;a.LD.GeoLocation._running=false;var d=c.detectCtx;if(c.holderSetTimeout){clearTimeout(c.holderSetTimeout);}d.cb(d.context,{errCode:"LW_DETECT_ERR"});},detectLocationInsert:function(e){var c=a.LD.Core;a.LD.GeoLocation._running=false;var d=c.detectCtx;var f=c.detectSuccess;a.LD.LocdropYQL.addLatLon(e.coords.latitude,e.coords.longitude,"global","physical",c.app,f,{instance:c,context:d});},detectLocation:function(d,e,c){if(!a.LD.GeoLocation.geoDetectSupport(true)){e(c,{errCode:"LW_DETECTSUPPORT_ERR"});return;}if(a.LD.GeoLocation._running){e(c,{errCode:"LW_DETECT_INPROGRESS"});return;}this.detectCtx={context:c,cb:e};this.holderSetTimeout=setTimeout(a.bind(function(f){this.detectFailed();},this),this.detectWaitTimeout);a.LD.GeoLocation.getCurrentLocation(this.detectLocationInsert,this.detectFailed,d);}};a.namespace("LD");a.LD.Core=b;},"@VERSION@",{requires:["node","event","ld_yql","ld_geocoder","ld_autosuggest","ld_geo"]});/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("ulwv2-locdrop",function(d){function b(){this.yrbContainer=null;this.pendingYrbCall=false;this.locale="en-US";this.setLocale=function(e){this.locale=e;};this.yrbReqSuccessFailure=function(e,f){return;};this.setYrbContainer=function(e,f){this.yrbContainer=e;f.msgContainer=this.yrbContainer;return;};this.initYrb=function(i,h,j){if(this.yrbContainer!=null){i.msgContainer=this.yrbContainer;return;}this.yrbConfig={proto:"http://",host:h||"l.yimg.com",path:j||"/rl/ulw/yrb/2.2.2/",base:"ulwv2yrb"};var g=this.yrbConfig.proto+this.yrbConfig.host+this.yrbConfig.path+this.yrbConfig.base+"_"+i.locale+".js?callback={callback}";var f={instance:this,context:i,locale:i.locale,defaultLocale:i.defaultLocale,msgContainer:i.msgContainer};var e=new d.JSONPRequest(g,{on:{success:this.yrbReqSuccessFailure,failure:this.yrbReqSuccessFailure},args:[f]});e.send();};return this;}function c(e){d.LD.LocdropYQL.init(e);d.LD.PlaceFinderYQL.init(e);d.LD.PlaceSuggest.init(e);d.LD.Core.initConfig(e);this.app=e.appID;this.ctx=e.ctx||"global";this.type=e.type||"saved";this.callback=e.callback;this.errorCallback=e.errorCallback;this.filterCallback=e.filterCallback||null;this.locationLevel="addr";this.widgetLocLevels=["addr","city","zip"];this.autocompleteCount=2;this.autoComplete=e.autoComplete||false;this.geoTimeout=6000;this.loc=null;this.errMsgs={YQL_QUERIED_LOC_FETCH_TIMEOUT:"Unable to suggest location.",YQL_SAVED_LOC_FETCH_TIMEOUT:"Unable to load your past locations.",YQL_QUERIED_LOC_API_ERR:"Unable to suggest location.",YQL_GET_API_ERR:"Unable to load your past locations.",YQL_SET_API_ERR:"Unable to set your location",LW_DETECTSUPPORT_ERR:"Your browser does not support location detection",LW_DETECT_ERR:"Unable to detect your current location",LW_DETECT_INPROGRESS:"Unable to detect your current location",LW_LOC_DISABLED_INFO:"No content available",LW_GENERIC_ERROR:"Unknown/internal error"};this.view=null;this.setView=function(f){this.view=f;};this.select=function(h,g,f){d.LD.Core.selectLocation(h,this.ctx,this.type,this.app,g,this.onSelectDone,{instance:this,id:h,state:f,action:"select"});};this.suggest=function(f){this.buildResponseData({instance:this,state:f,action:"suggest"});};this.geocode=function(g){var f="";if(g.inputString){f=g.inputString;}if(f.length>0){d.LD.Core.geocodeAddress(f,this.filterCallback,this.respond,{instance:this,state:g,action:"geocode"});}else{this.suggest(g);}};this.detect=function(f){d.LD.Core.detectLocation(this.geoTimeout,this.onDetectDone,{instance:this,state:f,action:"detect"});};this.deleteloc=function(f,g){d.LD.Core.deleteLoc(f,this.onDeleteDone,{instance:this,state:g,id:f,action:"delete"});};this.search=function(i,h,g){var f="";if(g.inputString){f=g.inputString;}d.LD.Core.getSavedLocations(f,this.filterCallback,this.locationLevel,this.respond,{instance:this,state:g,searcherFn:i,searcherData:h,action:"search"});};this.checkError=function(h,g){var f=null;if(typeof(g)!="undefined"){if(typeof(g.errCode)!="undefined"&&g.errCode){f=g.errCode;}}if(f&&this.errorCallback!=null){g.errMsg=this.msgContainer[f];g.appID=this.app;g.timeStamp=(new Date()).getTime();g.action=h.action;this.errorCallback(g);}return(h.error)?h.error:f;};this.onSelectDone=function(h,g){var f=h.instance;if(g.errObj){h.error=f.checkError(h,g.errObj);}else{h.selectID=g.id;}f.buildResponseData(h);};this.onDetectDone=function(h,g){var f=h.instance;if(g){h.error=f.checkError(h,g);h.detectSuccess=false;}else{h.detectSuccess=true;}f.buildResponseData(h);};this.onDeleteDone=function(g){var f=g.instance;if(g.errObj){g.error=f.checkError(g,g.errObj);g.deleteSuccess=false;}else{g.deleteSuccess=true;}f.buildResponseData(g);};this.buildResponseData=function(g){var f="";if(typeof(g.state.inputString)!="undefined"){f=g.state.inputString;}if(this.autoComplete&&f.length>=this.autocompleteCount){d.LD.Core.getSuggestions(f,this.filterCallback,this.getSaved,g);}else{this.getSaved(g,[]);}};this.getSaved=function(i,h){var f=i.instance;var g="";if(typeof(i.state.inputString)!="undefined"){g=i.state.inputString;}if(h.errObj){i.error=f.checkError(i,h.errObj);h=[];}i.suggests=h;d.LD.Core.getSavedLocations(g,f.filterCallback,f.locationLevel,f.respond,i);};this.respond=function(q,m){var l=q.instance;if(m.errCode){q.error=l.checkError(q,m);m=[];}else{if(m.errObj&&m.errObj.errCode){q.error=l.checkError(q,m.errObj);m=[];}}var l=q.instance;if(typeof(q.suggests)=="undefined"){q.suggests=[];}var p=null;if(q.action!="search"){p=d.LD.Core.mergeLocationLists(m,q.suggests,l.locationLevel);}else{p=m;}var t=[];var r=null;var o=null;var n=null;for(var k=0;k<p.length;k++){var j=true;if(p[k].ctx&&p[k].ctx=="global"){if(p[k].type&&(p[k].type=="physical"||p[k].type=="default")){if(p[k].type=="physical"){if(!o){if(p[k].id=="id_current"||p[k].id.indexOf("global-")!=-1){var s=l.makeDisplayLocation(p[k],false);if(q.action!="search"||(q.searcherFn(q.searcherData,s))){o=s;}j=false;}}else{if(p[k].id.indexOf("global-")!=-1){var s=l.makeDisplayLocation(p[k],false);if(q.action!="search"||(q.searcherFn(q.searcherData,s))){o=s;}j=false;}}}else{if(p[k].id.indexOf("global-")!=-1){var s=l.makeDisplayLocation(p[k],false);if(q.action!="search"||(q.searcherFn(q.searcherData,s))){r=s;}j=false;}}}}if(j){var f=l.makeDisplayLocation(p[k],(p[k].id.indexOf("new-")===-1)?true:false);if(q.action!="search"||(q.searcherFn(q.searcherData,f))){t.push(f);}}}if(q.action=="detect"&&q.detectSuccess&&o&&o.id.indexOf("global-")!=-1){n=o;}if(!o&&d.LD.Core.upapiCurLoc){var g=false;if(this.filterCallback&&!this.filterCallback(d.LD.Core.upapiCurLoc)){g=true;}o=l.makeDisplayLocation(d.LD.Core.upapiCurLoc,false);o.disabled=g;}if(!r&&d.LD.Core.upapiDefLoc){var g=false;if(this.filterCallback&&!this.filterCallback(d.LD.Core.upapiDefLoc)){g=true;}r=l.makeDisplayLocation(d.LD.Core.upapiDefLoc,false);r.disabled=g;}if(q.action=="select"){if(q.selectID){l.loc=d.LD.Core.getSelectedLocation(q.selectID,null);}else{l.loc=null;}}if(q.action=="delete"&&q.deleteSuccess){if(l.loc){l.loc=d.LD.Core.getSelectedLocation(l.loc.id,null);}}var h={error:null,suggests:t,home:r,current:o,last:null,detected:n,locs:p};if(l.loc){h.last=l.makeDisplayLocation(l.loc,true);}if(q.error){h.error=q.error;}l.view.update(q.action,h,q.state);if(q.action=="select"&&l.callback!=null&&l.loc!=null){l.callback(l);}};this.makeDisplayLocation=function(h,g){if(!h){return null;}var f=d.LD.Core.getAddressStr(h,this.locationLevel);return{addr:f,ts:h.dtime,freq:h.freq,lbl:h.lbl,id:h.id,deletable:g,disabled:h.disabled};};this.setLocationLevel=function(g){var f=false;for(var h=0;h<this.widgetLocLevels.length;h++){if(this.widgetLocLevels[h]==g){this.locationLevel=g;break;}}};return this;}function a(h){d.LD.LocWid=this;this.controller=c(h);this.namespace="LocdropLocationWidget_";this.id=h.divID;this.minWidth=h.minWidth||300;this.defaultLocale="en-US";this.locale=h.locale||this.defaultLocale;this.node=d.one("#"+this.id);this.displayLocs=500;this.maxPixelLength=this.minWidth-60;this.state;this.autoDetect=h.autoDetect;this.guid=YUI.guid("lw");this.geoSupport=true;this.locs=[];this.suggestLocs=[];this.ignoreInput=true;this.loadingDiv=null;this.contentDiv=null;this.unit="px";this.containerHeight=110;this.zIndex=1000;var p="loading",j="open",k="error",i="closed",l="default",n="current",s="sqloc",e="first",m="detected",r="detect",q="select",o="deleteloc",f="point",g="place";this.msgContainer={GHOST_TEXT:"Enter city or zipcode",GHOST_TEXT_CITY:"Enter city or zipcode",GHOST_TEXT_ZIP:"Enter city or zipcode",GHOST_TEXT_ADDR:"Enter city or zipcode",OS_RETRY_ACTION_TXT:"Retry",OS_CURRENT_LOCATION:"current location",OS_LOCATION_DETECT:"Detect Location",OS_MANAGE_LOCATIONS:"Manage Locations",OS_MANAGE_LOCATIONS_URL:"http://info.yahoo.com/locationmgt/?locale=en-US",CURRENT_LOCATION_HELP_URL:"http://help.yahoo.com/l/us/yahoo/location/",PRIVACY_POLICY_URL:"http://info.yahoo.com/privacy/us/yahoo/location"};if(typeof(a.yala)=="undefined"){a.yala=new b();}this.init=function(){d.LD.Core.setExtractedLocs(h.upapiExtracted.currentLoc,h.upapiExtracted.defaultLoc);if(h.locationLevel){this.controller.setLocationLevel(h.locationLevel);}if(this.defaultLocale!=this.locale){a.yala.initYrb(this,h.yrbHost,h.yrbPath);}this.controller.setView(this);if(this.autoDetect&&d.LD.GeoLocation.geoDetectSupport(this.geoSupport)){this.controller.detect({inputString:""});}else{this.suggests();}};this.makeElementId=function(t){return this.namespace+"_"+this.id+"_"+t;};this.refreshView=function(){this.destroy();this.rulerId=this.guid+"_ruler";var t=d.Lang.sub(this.LW_LOADING_TEMPLATE,{rulerId:this.rulerId});this.buildLocationView(t);};this.showLoading=function(){this.rulerId=this.guid+"_ruler";var t=d.Lang.sub(this.LW_LOADING_TEMPLATE,{rulerId:this.rulerId});if(this.contentDiv!=null){this.contentDiv.set("bodyContent",t);this.contentDiv.set("zIndex",this.zIndex);this.contentDiv.show();}else{this.buildLocationView(t);}};this.hideError=function(){d.one("#"+this.err_container_id).remove();};this.deletelocs=function(w){var u="";for(var t=0;t<w.length;t++){if(t>0){u+=",";}u+=w[t].id;}var v=this.getInputValue();this.controller.deleteloc(u,{inputString:v});};this.deleteSearcher=function(t,u){if(typeof(u.deletable)!="undefined"&&!u.deletable){return false;}if(!u.id){return false;}else{if(u.id==t.loc.id){return true;}}if(u.addr&&t.loc.addr==u.addr){return true;}return false;};this.deleteloc=function(w){this.showLoading();var v=this.getInputValue();if(this.controller.locationLevel=="addr"){this.controller.deleteloc(w,{inputString:v});}else{if(this.suggestLocs){var t=null;for(var u=0;u<this.suggestLocs.length;u++){if(this.suggestLocs[u].id==w){t=this.suggestLocs[u];break;}}if(t){this.controller.search(this.deleteSearcher,{loc:t,ctx:this.controller.ctx},{inputString:v});}}else{this.suggests();}}};this.select=function(u){this.showLoading();var t=this.getInputValue();this.controller.select(u,this.locs,{inputString:t});};this.detect=function(){this.showLoading();this.setInputValue("");var t=this.getInputValue();this.controller.detect({inputString:t});};this.geocode=function(){this.showLoading();var t=this.getInputValue();this.controller.geocode({inputString:t,target:target});};this.suggests=function(){this.showLoading();var t=this.getInputValue();this.controller.suggest({inputString:t});};this.getDisplayStr=function(t,u){var v=t.addr;if((t.lbl!=null)&&(t.lbl!="")){v=t.lbl;}return v;};this.getOffsetWidth=function(t){var u=document.getElementById(this.rulerId);u.innerHTML=t;return u.offsetWidth;};this.detachGhosting=function(u){var t="#"+u;d.on("ghosting|focus",function(v){var w=v.target;w.set("value","");w.removeClass("ghost-text");d.detach("ghosting|focus");this.ignoreInput=false;},t,this);};this.getGhostText=function(){var t="";switch(this.controller.locationLevel){case"city":t=this.msgContainer.GHOST_TEXT_CITY;break;case"zip":t=this.msgContainer.GHOST_TEXT_ZIP;break;default:t=this.msgContainer.GHOST_TEXT_ADDR;}return t;};this.registerLocationSelect=function(t){d.one("#"+t.lwBodyId).delegate("click",t.dispatchCallback,"li",t);};this.dispatchCallback=function(w){var v=w.target,t,u,x;t=v.ancestor(".line-item",true);if(t){u=t.getAttribute("data-lid");if(!u){u=v.getAttribute("data-lid");}}x=v.getAttribute("data-action");if(!x){x=t.getAttribute("data-action");}if(u&&x){switch(x){case q:this.select(u);break;case r:this.detect(u);break;case o:this.deleteloc(u);break;default:return;}this.showLoading();}};this.handleInputEvents=function(v,u){var t=this.getInputValue();if(16===v.keyCode||17===v.keyCode||18===v.keyCode||37===v.keyCode||38===v.keyCode||39===v.keyCode||33===v.keyCode||34===v.keyCode){return;}if(13===v.keyCode||u){this.controller.geocode({inputString:t,target:v.target});}else{this.controller.suggest({inputString:t,target:v.target});}};this.getInputValue=function(){if(this.inputId&&!this.ignoreInput){var u=d.one("#"+this.inputId);if(u){var t=u.get("value");return YUI().Lang.trim(t);}}return"";};this.setInputValue=function(u){if(this.inputId){var t=d.one("#"+this.inputId);if(t){t.set("value",u);}}};this.buildErrorFrag=function(t){var x=null,w=retryLink=errMsg=errFrag="",v=false;this.err_container_id=this.guid+"_err_container";this.err_close_id=this.guid+"_err_close";this.err_msg_id=this.guid+"_err_msg";this.err_separator_id=this.guid+"_err_separator";if(t=="YQL_SAVED_LOC_FETCH_TIMEOUT"||t=="YQL_QUERIED_LOC_FETCH_TIMEOUT"){this.err_retry_id=this.guid+"_err_retry";var u={retryId:this.err_retry_id,retryMsg:this.msgContainer.OS_RETRY_ACTION_TXT};retryLink=d.Lang.sub(this.LW_ERR_RETRY_TEMPLATE,u);}var y={lType:k,errContId:this.err_container_id,errCloseId:this.err_close_id,errMsgId:this.err_msg_id,errSeparatorId:this.err_separator_id,hiddenCls:w,errMsg:this.controller.errMsgs[t],retryLink:retryLink};errFrag=d.Lang.sub(this.LW_LOC_ERR_TEMPLATE,y);return errFrag;};this.update=function(x,A,t){if(x=="select"&&!A.error){this.setInputValue("");this.suggests();return;}else{var C=this.getInputValue();if(t.inputString!=C){return;}}if(x=="search"&&A.suggests){this.deletelocs(A.suggests);return;}if(x=="geocode"||x=="suggest"){var u=this.getInputValue();if(t.inputString!=u){return;}}if(this.defaultLocale!=this.locale&&this.yrbContainer==null){var B=this.locale.split("-").join("_");if(window["ulwv2yrb_"+B]){a.yala.setYrbContainer(window["ulwv2yrb_"+B],this);this.refreshView();}}var D="",y="",w="",v="";if(A.error&&x!="search"){this.lastError=A.error;w=this.buildErrorFrag(A.error);}this.locs=A.locs;this.suggestLocs=A.suggests;var E=false;var z=this.displayLocs;if(x!="search"&&x!="geocode"&&(x!="detect"||!A.detected)&&typeof(t.inputString)!="undefined"&&t.inputString.length==0){E=true;z-=2;}v=this.buildLocationBody(A,z,E);this.lwBodyId=this.makeElementId("lwBody");var F=d.Lang.sub(this.LW_LOCS_CONTAINER_TEMPLATE,{lwBodyId:this.lwBodyId,topLocs:w+v,maxHeight:this.containerHeight+this.unit});if(this.contentDiv!=null){this.contentDiv.set("bodyContent",F);this.contentDiv.set("zIndex",this.zIndex);this.contentDiv.show();}else{this.buildLocationView(F);}this.registerLocationSelect(this);if(D){this.detachGhosting(this.inputId);d.on("keyup",d.bind(this.handleInputEvents,this),"#"+this.inputId);}if(A.error){d.on("click",d.bind(this.hideError,this),"#"+this.err_close_id);if(A.error=="YQL_SAVED_LOC_FETCH_TIMEOUT"){d.on("click",d.bind(this.suggests,this),"#"+this.err_retry_id);}if(A.error=="YQL_QUERIED_LOC_FETCH_TIMEOUT"){d.on("click",d.bind(function(G){this.geocode();},this),"#"+this.err_retry_id);}}this.state=j;};this.buildLocationView=function(v){var u=this.buildHeader();var t=this.buildFooter();this.contentDiv=new d.LD.Renderer({parentNode:this.node,headerContent:u,bodyContent:v,footerContent:t,zIndex:this.zIndex,unit:this.unit,render:true,visible:true});this.detachGhosting(this.inputId);d.on("keyup",d.bind(this.handleInputEvents,this),"#"+this.inputId);d.on("click",d.bind(this.destroy,this),"#"+this.searchDoneId);if(d.LD.GeoLocation.geoDetectSupport(this.geoSupport)&&d.LD.Core!=null){d.one("#"+this.detectGeoId).delegate("click",this.dispatchCallback,"li a",this);}};this.buildLocationFrag=function(z,B,t){var C=B.addr,w=B.id,E="",v=q,y="",A="";if(C==null){return"";}var x=this.getDisplayStr(B,z);if(z!=null&&z==n){x+=' <span class="lw-current-loc">'+this.msgContainer.OS_CURRENT_LOCATION+"</span>";}else{if(z!=null&&z==l){if(B.app&&(B.app==this.fbAppId||B.app==this.fbCurrentAppId)){x+=' <span class="img-sprite lw-fb-default-loc"></span>';}else{x+=' <span class="img-sprite lw-y-default-loc"></span>';}}}if(B.deletable){if(z!=null&&t==e){E="lw-selected-loc";}var u={locId:w,lType:s,dAction:o,address:""};y=d.Lang.sub(this.LW_SAVED_LOC_DEL_TEMPLATE,u);}var D={highlightCls:E,locId:w,address:C,lType:s,dAction:v,displayStr:x,delLoc:y};A+=d.Lang.sub(this.LW_SQ_LOC_TEMPLATE,D);return A;};this.locationSorter=function(w,v){var u=w.ts;var t=v.ts;if(w.disabled==v.disabled){if(u<t){return 1;}else{if(u>t){return -1;}else{return 0;}}}else{if(w.disabled){return 1;}}return -1;};this.buildHeader=function(){this.inputId=this.makeElementId("input");var t="#"+this.inputId;this.lwHeaderId=this.makeElementId("lwHeader");return d.Lang.sub(this.LW_OPEN_STATE_HEAD_TEMPLATE,{lwHeaderId:this.lwHeaderId,inputId:this.inputId,searchDoneId:this.searchDoneId,ghostTxt:this.getGhostText()});};this.buildFooter=function(){this.lwFooterId=this.makeElementId("lwFooter");this.detectGeoId=this.guid+"_detect_geo";var t="",A="lw-loc-disabled",x="detect-disabled",w="1",z="",v=this.msgContainer.LW_DETECTSUPPORT_ERR;var t="";if(d.LD.GeoLocation.geoDetectSupport(this.geoSupport)&&d.LD.Core!=null){x="detect-location";A="";w="0";z=r;v="";var u={detectStr:this.msgContainer.OS_LOCATION_DETECT,detectId:this.detectGeoId,detectIconCls:x,lType:r,dAction:r,detectTtl:v};t=d.Lang.sub(this.LW_DETECT_FOOTER,u);}var y={detectLoc:t,detectIcon:x,disabledFlg:w,locClass:A,lwFooterId:this.lwFooterId,manageLocUrl:this.msgContainer.OS_MANAGE_LOCATIONS_URL,manageLocTxt:this.msgContainer.OS_MANAGE_LOCATIONS};return d.Lang.sub(this.LW_FOOTER_TEMPLATE,y);};this.buildLocationBody=function(x,t,w){var z="";var u=(x.detected)?true:false;var y="";if(x.suggests&&!u){x.suggests.sort(this.locationSorter);if(t>x.suggests.length){t=x.suggests.length;}for(var v=0;v<t;v++){x.suggests[v].deletable=(w)?x.suggests[v]:false;if(y.length==0){y+=this.buildLocationFrag(s,x.suggests[v],e);}else{y+=this.buildLocationFrag(s,x.suggests[v]);}}}z+=y;if(w||u){if(x.current){z+=this.buildLocationFrag(n,x.current);}}if(w){if(x.home){z+=this.buildLocationFrag(l,x.home);}}return z;};this.destroy=function(){d.Event.detach("click",this.dispatchCallback,"#"+this.lwFooterId);d.Event.detach("click",this.dispatchCallback,"#"+this.lwBodyId);d.Event.detach("keyup",this.handleInputEvents,"#"+this.inputId);d.Event.detach("focus|ghosting",this.handleInputEvents,"#"+this.inputId);if(this.contentDiv!=null){this.contentDiv.get("contentBox").purge(true);this.contentDiv.get("contentBox").remove();this.contentDiv=null;}};this.LW_ANCHOR_TEMPLATE='<a href="#" class="lw-anchor-item" id="{anchorId}">{anchorTemplate}</a>';this.LW_DEF_ANCHOR_TEMPLATE='<a href="#" class="lw-anchor-item" id="{anchorId}"><span class="lw-anchor-icon"></span><span class="lw-anchor-txt {anchorClass}">{anchorTxt}</span></a>';this.LW_LOADING_TEMPLATE='<div class="lw-loading-msg"><img src="http://l.yimg.com/a/i/ww/met/anim_loading_sm_082208.gif"/><span id="{rulerId}" class="lw-pixel-ruler"></span></div>';this.LW_LOCS_CONTAINER_TEMPLATE='<ul id="{lwBodyId}" class="locations-container">{topLocs}</ul>';this.LW_OPEN_STATE_HEAD_TEMPLATE='<div id="{lwHeaderId}" class="lw-header"><label for="{inputId}" class="hide">{ghostTxt}</label><input type="text" class="lc-input ghost-text" id="{inputId}" value="{ghostTxt}"/></div>';this.LW_SQ_LOC_TEMPLATE='<li class="sqlocation-record line-item" data-lid="{locId}" data-acp="{address}" data-ltype="{lType}" data-action="{dAction}"><a data-lid="{locId}" data-acp="{address}" data-ltype="{lType}" data-action="{dAction}" href="javascript:;" title="{address}" id={locId} class="lw-saved-loc {highlightCls}">{displayStr}</a>{delLoc}</li>';this.LW_SAVED_LOC_DEL_TEMPLATE='<a data-lid="{locId}" data-acp="{address}" data-ltype="{lType}" data-action="{dAction}" href="javascript:;" class="lw-close"></a>';this.LW_ERR_RETRY_TEMPLATE='<a class="lw-loc-errretry non-label" href="javascript:;" id="{retryId}">{retryMsg}</a>';this.LW_LOC_ERR_TEMPLATE='<li id="{errContId}" class="lw-loc-errcon lw-clearfix {hiddenCls}" data-ltype="{lType}"><div class="lw-loc-errouter"><div class="line-item lw-loc-errblock" data-ltype="{lType}"><span id="{errMsgId}" class="lw-loc-errmsg" href="javascript:;">{errMsg} {retryLink}</span></div></div><a id="{errCloseId}" href="javascript: void(0);" class="lw-loc-errclose" role="button"></a></li>';this.LW_DETECT_FOOTER='<a style="float: left" id="{detectId}" data-lid="{detectId}" data-ltype="{lType}" data-action="{dAction}" data-acp="{detectTtl}" href="javascript: void(0);" data-disabled="{disabledFlg}" class="lw-footer-links {locClass}">{detectStr}</a>';this.LW_FOOTER_TEMPLATE='<ul id="{lwFooterId}" class="zero-margin"><li class="lw-detect-manage-loc line-item lw-clearfix {detectIcon}">{detectLoc}<a style="float: right" href="{manageLocUrl}" id="{id}" target="_blank" class="lw-footer-links">{manageLocTxt}</a></li></ul>';return this;}d.namespace("LD");d.LD.LocationWidget=a;},"@VERSION@",{requires:["node","event","substitute","ld_geo","ld_yql","ld_core","ld_renderer"]});/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("ld_renderer",function(b){var a=function(c){this.parentNode=c.parentNode;this.bodyContent=c.bodyContent;this.headContent=c.headerContent?c.headerContent:null;this.footerContent=c.footerContent?c.footerContent:null;this.width=c.width?c.width:null;this.zIndex=c.zIndex?c.zIndex:null;this.xy=c.xy?c.xy:null;this.render=c.render?c.render:true;this.visible=c.visible?c.visible:false;this.mainNode=null;this._render();};b.mix(a.prototype,{set:function(c,d){this[c]=d;switch(c){case"headerContent":this.setHeader(d);break;case"bodyContent":this.setBody(d);break;case"footerContent":this.setFooter(d);break;case"xy":this.setXY(d);case"zIndex":this.setZindex(d);break;}},get:function(c){var d=null;switch(c){case"contentBox":d=this.mainNode;break;}return d;},show:function(){this.mainNode.removeClass("lw-overlay-hidden");},hide:function(){this.mainNode.addClass("lw-overlay-hidden");},setBody:function(c){this.mainNode.one(".lw-widget-bd").set("innerHTML",c);},setHeader:function(d){var c=this.mainNode;if(d){if(c.one(".lw-widget-hd")){c.one(".lw-widget-hd").set("innerHTML",d);}else{d='<div class="lw-widget-hd">'+d+"</div>";c.insert(d,0);}}else{if(c.one(".lw-widget-hd")){c.one(".lw-widget-hd").remove();}}},setFooter:function(d){var c=this.mainNode;if(d){if(c.one(".lw-widget-ft")){c.one(".lw-widget-ft").set("innerHTML",d);}else{d='<div class="lw-widget-ft">'+d+"</div>";c.one(".lw-widget-bd").insert(d,"after");}}else{if(c.one(".lw-widget-ft")){c.one(".lw-widget-ft").remove();}}},setXY:function(c){},setZindex:function(d){var c=this.mainNode;c.setStyle("z-index",d);},_render:function(){var g,c,h,f,e,d;if(!this.mainNode){skeleton='<div class="lw-widget lw-overlay"><div class="lw-overlay-content"><div class="lw-widget-bd"></div></div></div>';this.mainNode=c=b.Node.create(skeleton);this.parentNode.append(c);}else{c=this.mainNode;}h=this.headContent?this.headContent:"";if(h){if(c.one(".lw-widget-hd")){c.one(".lw-widget-hd").set("innerHTML",h);}else{h='<div class="lw-widget-hd">'+h+"</div>";c.one(".lw-widget-bd").insert(h,"before");}}else{if(c.one(".lw-widget-hd")){c.one(".lw-widget-hd").remove();}}c.one(".lw-widget-bd").set("innerHTML",this.bodyContent);e=this.footerContent?this.footerContent:"";if(e){if(c.one(".lw-widget-ft")){c.one(".lw-widget-ft").set("innerHTML",e);}else{e='<div class="lw-widget-ft">'+e+"</div>";c.one(".lw-widget-bd").insert(e,"after");}}else{if(c.one(".lw-widget-ft")){c.one(".lw-widget-ft").remove();}}if(false===this.visible){c.addClass("lw-overlay-hidden");}if(this.width){c.setStyle("width",this.width+"px");}if(this.xy){c.setStyle("left",this.xy[0]+"px");c.setStyle("top",this.xy[1]+"px");}if(this.zIndex){c.setStyle("z-index",this.zIndex);}}});b.namespace("LD");b.LD.Renderer=a;},"@VERSION@",{requires:["node","event"]});/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("ld_service",function(g){var d=g.ModulePlatform,b="MPServices",f="LD",a;function e(j,h,i){this.moduleapi=i;this._init(j,h);}e.prototype={_init:function(k,j){var h=j.yqlHost||d.getProperty("ui.locdrop.yqlhost"),i=j.yqlTimeout||d.getProperty("ui.locdrop.timeout"),l,m={divID:k,appID:"Yahoo! Metro",ctx:"local",callback:g.bind(this._locChanged,this),errorback:g.bind(this._error,this),filterCallback:g.bind(this._filter,this),crumb:j.crumb,upapiExtracted:{bestLoc:j.bestLoc,currentLoc:j.currentLoc,defaultLoc:j.defaultLoc},locationLevel:"city",placeFinderGflags:true,autoDetect:false,yqlHost:h,yqlTimeout:parseInt(i,10),locale:j.locale,gossipCallforAutoComplete:true,autoComplete:true,anchorText:j.anchorText,anchorClass:j.anchorClass};this._widget=l=new g.LD.LocationWidget(m);this._widget.init();this.logger=this.moduleapi.getService("metrologger");},_locChanged:function(k){var i=this.moduleapi,j=i&&i.getId(),h;if(k.loc){if(k.loc.city==""&&k.loc.addr){h=k.loc.addr.split(",");if(h[0]){k.loc.city=h[0];}}this.fire("locationselect",k.loc);a.broadcast(j,"ldw:defaultlocation",{displayName:k.loc.city+", "+k.loc.sc,loc:k.loc});}},_error:function(j){var h=this.moduleapi,i=h&&h.getId();if(this.logger){this.logger.logError(i,"LocdropWidget: "+j.lastError);}},_filter:function(h){if(h.ctx&&h.ctx!=="local"){if(h.ctx=="global"&&h.type&&(h.type==="physical"||h.type==="default")){return true;}return false;}return true;},destroy:function(){this._widget.destroy();this._widget=null;delete (this._widget);this.logger=null;}};g.augment(e,g.Event.Target);function c(h){this.moduleapi=h;}c.prototype={create:function(i,h){return new e(i,h,this.moduleapi);}};g.namespace(b);g[b][f]={name:"ld_service",getService:function(i,h){if(!a){a=i;}return new c(a.getModuleApi(h));}};if(d){d.registerService(g[b][f]);}},"1.0",{requires:["ld_renderer"]});/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("tooltip_service",function(b){var m=b.ModulePlatform,n,d,e="MPServices",a="ToolTipProvider",i="hide",l="bottom",f="top",h=null,c="left",j="right",g="px";function k(p){var o;this.options=b.merge({position:{box:"b",arrow:"c"},msg:"<!-- empty -->",className:"y-tooltip-default",pointerClass:"y-glbl-universal",borderClass:"",parentNode:document.body,autohide:false,role:"alert",scrollIntoView:false},p);this.options.parentNode=b.one(this.options.parentNode);if(b.Lang.isArray(this.options.borderClass)){this.options.borderClass=this.options.borderClass.join(" ");}if(b.Lang.isArray(this.options.className)){this.options.className=this.options.className.join(" ");}if(b.Lang.isArray(this.options.pointerClass)){this.options.pointerClass=this.options.pointerClass.join(" ");}o="<div class='y-tooltip "+this.options.className+"'><div class='tooltip hide' role='"+this.options.role+"'><div class='content "+this.options.borderClass+"'></div><span class='"+this.options.pointerClass+" pointer'></span><div class='crnr-rt'></div><div class='crnr-rb'></div></div></div>";this.toolTipBody=b.Node.create(o);this.pointAtMe=h;this.toolTip=this.toolTipBody.one(".tooltip");this.content=this.toolTipBody.one(".content");this.pointer=this.toolTipBody.one(".pointer");this.autohideId=h;this.options.parentNode.insertBefore(this.toolTipBody,this.options.parentNode.get("firstChild"));if(this.options.autohide){this.autohideId=d.getService("autohide").register({targets:[this.toolTip],hide:b.bind(this.hide,this)});}}k.prototype={getNode:function(){return this.toolTipBody;},setContent:function(o){if(typeof(o)==="string"){this.content.set("innerHTML",o);}else{this.content.set("innerHTML","");this.content.appendChild(b.one(o));}return this.content;},positionToolTip:function(s,D){var u,A,z,w,t=D.msg,y=D.position.box,B=D.position.arrow,r=D.position.alignNode,q=this.toolTip,p=this.pointer,v,C,x=D.parentNode.getStyle("direction"),o=D.noMsgUpdate||false;if(x==="rtl"){if(y==="r"){y="l";}else{if(y==="l"){y="r";}}if(B==="l"){B="r";}else{if(B==="r"){B="l";}}}w=this.pointAtMe=b.one(s);if(r){r=b.one(r);}if(!o&&t){this.setContent(t);}u=b.DOM.region(b.Node.getDOMNode(w));A=u.left+(u.width/2);z=u.top+(u.height/2);v=this.toolTip.get("parentNode").get("region");C=this.toolTip.get("region");if(u){switch(y){case"b":q.replaceClass(f,l);break;case"t":q.replaceClass(l,f);break;case"l":q.replaceClass(j,c);break;case"r":q.replaceClass(c,j);break;}switch(B){case"l":p.replaceClass("rightpointer","leftpointer");p.setStyle(c,"");q.setStyle(c,(u.left-v.left)-(this.pointer.getX()-C.left+(this.pointer.get("offsetWidth")/2))+(u.width/2)+g);break;case"c":if(y=="b"||y=="t"){p.setStyle(c,(C.width/2)-(this.pointer.get("offsetHeight")/2)+g);q.setStyle(c,(u.left-(C.width/2)+(u.width/2))-v.left+g);}else{p.setStyle(f,((C.height/2)-(this.pointer.get("offsetHeight")/2))+g);}break;case"r":p.replaceClass("leftpointer","rightpointer");p.setStyle(c,"");q.setStyle(c,((u.right-C.width)-v.left)+g);break;case"t":p.replaceClass("pointerbottom","pointertop");break;case"b":p.replaceClass("pointertop","pointerbottom");break;}switch(y){case"b":q.setStyle(f,(u.top-v.top+u.height+this.pointer.get("offsetHeight"))+g);break;case"t":q.setStyle(f,(u.top-v.top-C.height-this.pointer.get("offsetHeight"))+g);break;case"l":if(r){q.setStyle(f,(r.getY()-v.top)+g);}else{q.setStyle(f,(z-(this.pointer.getY()-C.top)-(this.pointer.get("offsetHeight")/2))-v.top+g);}q.setStyle(c,(u.left-v.left-C.width-this.pointer.get("offsetWidth"))+g);break;case"r":if(r){q.setStyle(f,(r.getY()-v.top)+g);}else{q.setStyle(f,(z-(this.pointer.getY()-C.top)-(this.pointer.get("offsetHeight")/2))-v.top+g);}q.setStyle(c,u.right-v.left+this.pointer.get("offsetWidth")+g);break;}}},show:function(q,o){var p=b.merge(this.options,o);this.toolTip.removeClass(i);if(q){this.positionToolTip(q,p);}this.toolTip.setAttribute("role",p.role);if(p.scrollIntoView){this.content.scrollIntoView();}return this.content;},hide:function(){this.toolTip.addClass(i);},isVisible:function(){return !this.toolTip.hasClass(i);},destroy:function(){if(this.autohideId!==h){d.getService("autohide").unregister(this.autohideId);this.autohideId=h;}this.toolTipBody.get("parentNode").removeChild(this.toolTipBody);this.toolTipBody=this.pointAtMe=this.toolTip=this.content=this.pointer=h;}};n={create:function(o){return new k(o);}};b.namespace(e);b[e][a]={name:"tooltip",getService:function(p,o){if(!d){d=p;}return n;}};if(m){m.registerService(b[e][a]);}},"1.0");/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("location_service",function(b){var n=b.ModulePlatform,f,d="MPServices",a="LocationProvider",g="loc-picker-handle",h="location-menu",l="menu-active",e="location-tooltip",c="disable-dd",i="dd:toggle-draggable-ui",j="location:update",o="location:ready",p="location:picker-open",m="location:picker-close";function k(q,u,s,r){this.moduleapi=s;this.body=q;this.id=u;this.autoHideId=null;this.parentBody=null;this.tooltip=null;this.locdropWidget=null;this.beacon=null;this.ldwService=s.getService("ld_service");var t=this.body.one(".loc-picker-wrapper");this.tooltip=this.tooltipService.create({parentNode:t,className:h,position:{box:"b",arrow:"t"},pointerClass:"img-sprite",msg:""});this.tooltip.content.setAttribute("id",this.id+"-"+e);this.registerAutoHide();if(r&&r.locDropSettings){this.setLocDropSettings(r.locDropSettings);}if(r&&r.strFind){this.strFind=r.strFind;}if(r&&r.parentBody){this.parentBody=r.parentBody;}if(r&&r.beacon){this.beacon=r.beacon;this.beacon.itc="1";this.beacon.action="click";}this.platform.subscribe(j,b.bind(this.handleLocationUpdate,this),this);this.platform.subscribe(o,this.handleLocationReady,this);this.body.on("click",b.bind(this.handleEvent,this));this.body.on("keyup",b.bind(this.handleEvent,this));if(this.hasLocDropSettings){this.subscribeLocdropWidget(this.id+"-"+e);}}k.prototype={platform:null,instrumentation:null,autoHide:null,strFind:"Find",userCitySelection:null,locDropSettings:{},hasLocDropSettings:false,setLocDropSettings:function(q){this.locDropSettings.crumb=q.crumb;this.locDropSettings.locale=q.locale;this.locDropSettings.bestLoc=q.bestLoc;this.locDropSettings.currentLoc=q.curLoc;this.locDropSettings.defaultLoc=q.defLoc;this.locDropSettings.userLoc=this.userCitySelection||q.userLoc;this.hasLocDropSettings=true;},registerAutoHide:function(){var q=this.body;if(!b.one("body").hasClass("ua-ie6")){this.autoHideId=this.autoHide.register({targets:[q.one("."+g),q.one("#"+this.id+"-"+e)],hide:b.bind(this.hideMenu,this)});}},exposeMenu:function(r){var q=this.body.one("."+h);this.instrumentation.fireBeacon(this.beacon);q.removeClass("d-n");this.body.addClass(l);this.body.addClass(c);this.tooltip.show(r,{noMsgUpdate:true});this.body.one(".lc-input").focus();this.moduleapi.broadcast(p);if(this.parentBody){this.moduleapi.broadcast(i,{el:this.parentBody,toggle:"off"});}},hideMenu:function(){var q,r;if(this.body){if(!this.body.hasClass(l)){return;}q=this.body.one("."+g);r=this.body.one("."+h);}else{return;}this.tooltip.hide();this.body.removeClass(l);this.body.removeClass(c);r.addClass("d-n");this.moduleapi.broadcast(m);if(this.parentBody){this.moduleapi.broadcast(i,{el:this.parentBody,toggle:"on"});}},subscribeLocdropWidget:function(r){var q=this.platform;q.listen("ldw:defaultlocation");this.locDropSettings.anchorClass="loc-label fz-s";this.locdropWidget=this.ldwService.create(r,this.locDropSettings);this.body.one(".lw-header").append('<button class="find-btn primary btn-small pos-a">'+this.strFind+"</button>");this.locdropWidget.on("locationselect",this.onLocWidgetSelect,this);this.locdropWidget.on("widgetclose",this.hideMenu,this);},onLocWidgetSelect:function(q){this.platform.fire(j,q);},handleEvent:function(s){var q,r=s.target;if(!b.one("body").hasClass("ua-ie6")){q=r.ancestor(".loc-picker-link",true)||r.ancestor(".loc-picker-icon",true);if(q){s.preventDefault();if(!this.body.hasClass(l)){this.handleLocationReady();this.exposeMenu(q);}else{this.hideMenu();}}if(r.hasClass("find-btn")){b.LD.LocWid.handleInputEvents(s,true);}}},destroy:function(){this.body=null;this.locdropWidget=null;this.tooltip.destroy();this.tooltip=null;this.autoHide.unregister(this.autoHideId);this.autoHide=null;},handleLocationUpdate:function(r){var q;if(this.body){q=this.body.one(".loc-city");}this.userCitySelection=r.city;if(q){q.setContent(r.city);}this.hideMenu();},handleLocationReady:function(){if(!this.locdropWidget){this.subscribeLocdropWidget(this.id+"-"+e);}}};f={create:function(q,t,s,r){return new k(q,t,s,r);}};b.namespace(d);b[d][a]={name:"location_service",getService:function(q,r){if(!k.prototype.platform){k.prototype.instrumentation=q.getService("instrumentation");k.prototype.tooltipService=q.getService("tooltip");k.prototype.autoHide=q.getService("autohide");k.prototype.platform=q;}return f;}};if(n){n.registerService(b[d][a]);}},"1.0");/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("tablite_service",function(d){var m=d.ModulePlatform,f,n,c=".tab",j=".panel",l="selected",e="on",b="fw-b",h="show-panel",o="tabs",k="menu",i,g="MPServices",a="TabliteProvider";i=function(p){this.body=p.body;this.tabWidget=p.tabWidget;this.navMode=p.navMode||o;this.moduleApi=p.moduleApi;this.tabs=this.body.all(c);this.panels=this.body.all(j);this.selectedTabNodes={tabNode:this.body.one("."+l),panelNode:this.body.one("."+h)};this.listeners=[];};i.prototype={body:undefined,tabWidget:undefined,moduleApi:undefined,tabs:[],panels:[],listeners:null,navMode:null,selectedTabNodes:{tabNode:undefined,panelNode:undefined},autoHideService:null,autoHideId:null,stateMgr:null,setup:function(){var q=0,p,r=this;this.tabs.each(function(s){if(q!==0){p.insert(s,"after");}s.addClass("loaded");p=s;q++;},this);if(this.tabWidget){this.tabWidget.addClass("tab-"+this.navMode+"-loaded");}if(this.navMode===k){this.autoHideService=m.getService("autohide");this.autohideId=this.autoHideService.register({targets:[this.tabWidget],triggers:["click"],hide:function(){r.tabWidget.removeClass("tab-menu-open");r.tabWidget.one(".wrapper").removeClass("popover");}});}this.body.on("click",this._handleClickEvent,this);if(this.moduleApi){this.stateMgr=this.moduleApi.getService("statemgr");}return;},teardown:function(){this.body.detach("click",this._handleClickEvent);if(this.autoHideService){this.autoHideService.unregister(this.autohideId);}return;},switchTab:function(r){var q={tabNode:this.tabs.item(r),panelNode:this.panels.item(r)},p;if(q.tabNode&&q.panelNode){this.selectedTabNodes.tabNode.removeClass(l);this.selectedTabNodes.tabNode.removeClass(e);q.tabNode.addClass(l);q.tabNode.addClass(e);if(this.navMode===o){this.selectedTabNodes.tabNode.removeClass(b);q.tabNode.addClass(b);}this.selectedTabNodes.panelNode.removeClass(h);q.panelNode.addClass(h);this.selectedTabNodes=q;p=this.selectedTabNodes.tabNode.getAttribute("data-tabid");this.stateMgr.saveUserSetting("st",p,this.moduleApi);}return;},_handleClickEvent:function(q){var p=q.target.ancestor(".tab",true);if(this.navMode===k){if(p){if(this.tabWidget.hasClass("tab-menu-open")){this.handleTabClick(p);this.toggleDropdown("close");return;}}if(!this.tabWidget.hasClass("tab-menu-open")){this.toggleDropdown("open");}}else{if(p&&!p.hasClass("tab-disabled")){this.handleTabClick(p);}}return;},handleTabClick:function(p){var q=this._getTabPos(p);this.switchTab(q);},toggleDropdown:function(p){if(p==="close"){this.tabWidget.removeClass("tab-menu-open");this.tabWidget.one(".wrapper").removeClass("popover");}else{this.tabWidget.addClass("tab-menu-open");this.tabWidget.one(".wrapper").addClass("popover");}this.toggleInactiveBeacons();},toggleInactiveBeacons:function(){this.tabWidget.all(".tab").each(function(p){if(p.hasAttribute("data-b-inactive")){p.setAttribute("data-b",p.getAttribute("data-b-inactive"));p.removeAttribute("data-b-inactive");}else{if(p.hasAttribute("data-b")){p.setAttribute("data-b-inactive",p.getAttribute("data-b"));p.removeAttribute("data-b");}}});},_getTabPos:function(q){var r=null,p=0;if(q){this.tabs.each(function(s){if(s===q){r=p;}p++;},this);}return r;}};d.namespace(g);d[g][a]={name:"tablite",getService:function(q,p){if(!f){f=q;}n=q.getService("login",p);return i;}};if(m){m.registerService(d[g][a]);}},"1.0");/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("tablist_service",function(a){var v=null,i=true,r=false,l=a.ModulePlatform,q="tab",c="tabpanel",x="data-pos",g="selected",o="href",w="click",f="keydown",e="aria-labelledby",d="tab",m="collapsed",t="vertical",y=37,j=39,u=a.DOM,s=a.Selector,b,p=r,h="MPServices",n="TabListProvider";function k(B,z,A){z=z||{};this.node=a.one(B);this._tabQuery="li.tab";this.options=z;this._panels=z.panels;this._panel=z.panel;this._tabs=null;this._selectedIndex=-1;this._links=[];this._id=a.guid();this._moduleId=A;this._stickyKey=z.stickyKey||d;this._autoHide=v;this._autoHideId=v;this._init();}k.prototype={_init:function(){if(!this.node){l.error("TabList","Invalid node passed into TabList.");return;}if(!b){b=l.getService("aria");p=b.isSupported();}b.setRole(this.node,"tablist");var B=this.node,C=a.Node.getDOMNode(B),I=s.query(this._tabQuery,C),G=this._panels?a.NodeList.getDOMNodes(this._panels):v,E,D=0,F,A,H,z,J;if(!I.length){I=s.query("li",C);this._tabQuery="li";}this._tabs=I;for(F=I.length;D<F;D++){A=I[D];A.setAttribute(x,D);if(A.id===""){A.id=a.guid();}H=A.getElementsByTagName("a")[0];this._links.push(H.getAttribute(o,2));if(p){b.setRole(A,"presentation");b.setRole(H,q);b.focusable(H,r);H.removeAttribute(o);if(G){z=G[D];b.setRole(z,c);b.focusable(z,r);z.setAttribute(e,A.id);if(!u.hasClass(A,g)){b.hide(z);}else{b.focusable(z,i);}}}if(u.hasClass(A,g)){this._selectedIndex=D;b.focusable(H,i);}}if(this._panel&&this._selectedIndex>-1){z=this._panel;b.focusable(z,i);b.setRole(z,c);z.setAttribute(e,I[this._selectedIndex].id);}if(p){B.on(f,this._handleKeyDown,this);}B.on(w,this._handleMouseEvent,this);E=this.options.tabchange||l.getProperty("ui.tabchange");if(E&&E!=w){B.on(E,this._handleMouseEvent,this);}if(this.options.vertical){J=l.getService("autohide");this._autoHideId=J.register({targets:[B],hide:a.bind(this._collapseTabList,this)});this._autoHide=J;B.addClass(m);B.addClass(t);}},_handleMouseEvent:function(B){var C=B.target,A=(C.get("tagName")=="LI")?C:C.ancestor("LI"),z;if(A&&A.hasAttribute(x)){z=Number(A.getAttribute(x));B.preventDefault();if(B.type==w&&this.options.enableSelectedTabLink&&z==this._selectedIndex){B.stopPropagation();location.href=this._links[z];}this.switchTo(z);}},_handleKeyDown:function(z){switch(z.keyCode){case j:this.next();break;case y:this.previous();break;}},_collapseTabList:function(){var z=this.node;z.addClass(m);},destroy:function(){var z=this.node;if(p){z.detach(f,this.handleKeyDown);}z.detach(w,this.handleClick);this.unsubscribeAll();a.Object.each(this,function(B,A){delete this[A];},this);},getSelectedIndex:function(){return this._selectedIndex;},getTabNode:function(z){return a.one(this._tabs[z]);},getTabNodes:function(){return this.node.all(this._tabQuery);},getTabPanelNode:function(z){return this._panels.item(z);},getTabUrl:function(z){return this._links[z];},next:function(z){if(this._selectedIndex<this._tabs.length-1){this.switchTo(this._selectedIndex+1);}else{if(z){this.switchTo(0);}}},previous:function(z){if(this._selectedIndex>0){this.switchTo(this._selectedIndex-1);}else{if(z){this.switchTo(this._tabs.length-1);}}},switchTo:function(M){var P=this.options,E=this.node,K=this._tabs,L=this._selectedIndex,C=K[L],B=K[M],I=K.length,J=this._panels,z=this._panel,G=0,O,N,F,D,H,A;if(M!=this._selectedIndex){this.fire({type:"beforetabchange",toIndex:M,fromIndex:L});u.removeClass(C,g);if(p){while(G<I){F=K[G].getElementsByTagName("a")[0];if(K[G]!==B){b.focusable(F,r);b.unselect(F);}else{b.focusable(F,i);b.select(F);F.focus();}G++;}}u.addClass(B,g);if(J&&J.size()>1){O=J.item(L);N=J.item(M);O.toggleClass(g);N.toggleClass(g);if(p){b.hide(O);b.focusable(O,r);b.show(N);b.focusable(N,i);}}else{if(z){z.setAttribute(e,B.id);}}this._selectedIndex=M;if(this.options.sticky){D=l.getModuleApi(this._moduleId);if(D){H=D.getService("statemgr");if(H){H.setUserModuleState(this._stickyKey,M);A=B.getAttribute("data-tabid");H.saveUserSetting(this._stickyKey,A,D);}}}this.fire({type:"tabchange",toIndex:M,fromIndex:L});}if(P.vertical){E.toggleClass(m);}}};a.augment(k,a.Event.Target);a.namespace(h);a[h][n]={name:"tablist",getService:function(A,z){return{create:function(C,B){return new k(C,B,z);}};}};if(l){l.registerService(a[h][n]);}},"1.0");/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("carousel_service",function(a){var f=a.ModulePlatform,c="MPServices",h="CarouselProvider",i="tabindex",n="A",g="offsetWidth",p="offsetHeight",l="right",r="mouseout",k="mouseover",b=300,e=true,j=false,o=null,q;function m(v,s,u){var w,t;w=this.node=a.one(v);if(w.hasClass("y-carousel-list")){this._carouselList=w;this.node=w.get("parentNode");}else{this._carouselList=w.query(".y-carousel-list");}this.options=s||{};this._mode=s.mode||"horz";this._loop=s.loop||j;this._autoscrollPlaying=j;this._autoscrollLazyPause=0;this._autoscrollInterval=s.autoscrollInterval||0;this._autoscrollIntervalFirst=s.autoscrollIntervalFirst||this._autoscrollInterval;this._autoscrollTimer=o;t=this._carouselItems=this._carouselList.get("children");this._maxItems=t.size();this._currentIndex=0;this._pixelToEmRatio=0;this._moduleapi=u;this._direction=s.direction||(u.getViewDirection("default")=="rtl")?l:"left";this._scrollActive=false;this._init();}m.prototype={_init:function(){var s=this.node;s.addClass(this._mode);if(this.options.direction){this._direction=this.options.direction;}if(this._autoscrollInterval>0){this.attachEngagingAreaMouseEvents();if(a.UA.ie<8){this.activeElement=document.activeElement;document.onfocusout=a.bind(this.handleIEBlur,this);document.onfocusin=a.bind(this.handleIEFocus,this);}else{a.on("blur",a.bind(this.handleBlur,this),window);a.on("focus",a.bind(this.handleFocus,this),window);}}},_getWrapAroundToPosition:function(C,t){var D,z,s,w,E,A=this._direction,v=this._maxItems,y=this._carouselItems,x=(this._direction==="top")?y.item(0).get(p):y.item(0).get(g),B=v*x,F=y.item(C),u=parseInt(F.getComputedStyle(A),10);u=isNaN(u)?0:u;D=t*x+u;z=u;if(C>t){this._firstWrap=false;D+=B;z+=B;}else{D-=B;z-=B;}F=y.item(t);E=this._carouselList;s=E.getComputedStyle(A);if(s){if(s.indexOf("em")>-1){w=parseInt(s,10);E.setStyle(A,this._convertToPixels(w)+"px");}else{if(s.indexOf("auto")>-1){E.setStyle(A,"0");}}}F.setStyle(A,z+"px");return -D;},_getToPosition:function(u,w){var v,s=this._direction,t=this._carouselItems;this.resetPositioning(u);v=t.item(u);v.setStyle(s,"");v=t.item(w);v.setStyle(s,"");return this._getOffsetByIndex(w);},_getOffsetByIndex:function(s){var t=this._carouselItems,u=(this._direction==="top")?t.item(0).get(p):t.item(0).get(g);return -(s*u);},destroy:function(){var s=this._fontResizeHandle;if(s){s.detach();}this.detachEngagingAreaMouseEvents();this._fontResizeHandle=this.node=this._carouselItems=this._carouselList=o;this.unsubscribeAll();},getItemNode:function(s){return this._carouselItems.item(s);},getCurrentIndex:function(){return this._currentIndex;},_doAutoscroll:function(){if(this._autoscrollPlaying){if(this._autoscrollLazyPause===0){this.next();if(this._autoscrollInterval>0){this._autoscrollTimer=a.later(this._autoscrollInterval*1000,this,this._doAutoscroll);}}else{this._autoscrollTimer=o;}}},play:function(s){if(this._autoscrollIntervalFirst===0){return j;}if(s){if(this._autoscrollLazyPause>0){this._autoscrollLazyPause-=1;}if(this._autoscrollPlaying===j){return;}}if(this._autoscrollLazyPause===0&&(this._autoscrollPlaying===j||this._autoscrollTimer===o)){this._autoscrollTimer=a.later((this._autoscrollIntervalFirst*1000),this,this._doAutoscroll);this._autoscrollPlaying=e;}},pause:function(s){if(s){this._autoscrollLazyPause+=1;}else{this._autoscrollPlaying=j;if(this._autoscrollTimer!==o){this._autoscrollTimer.cancel();this._autoscrollTimer=o;}}},next:function(t){var s=this._currentIndex;if(s==this.getItemCount()-1){if(this._loop||t){s=0;}}else{++s;}this.scrollTo(s);},previous:function(t){var s=this._currentIndex;if(s===0){if(this._loop||t){s=this.getItemCount()-1;}}else{--s;}this.scrollTo(s);},resetPositioning:function(s){if(typeof(s)==="undefined"){s=this._currentIndex;}var t=this._getOffsetByIndex(s);this._carouselList.setStyle(this._direction,t+"px");},scrollTo:function(v,y){var B,s,t=j,w=this._maxItems,A=this._currentIndex,C,z=this._direction,u,x={type:"scroll",fromIndex:A,toIndex:v};if(this.isScrolling()||v==A){return;}s=this.getItemNode(A);this._activateTabIndex(s,j);y=y===undefined||y===o?e:y;if(6==a.UA.ie&&l==z){y=j;}t=(A===0&&v==w-1)||(A==w-1&&v===0);this._currentIndex=v;if(y&&t&&w>2){B=this._getWrapAroundToPosition(A,v);}else{B=this._getToPosition(A,v);}this.fire({type:"beforescroll",fromIndex:A,toIndex:v});u=this.options.animate||f.getProperty("ui.carousel.animate");if(u){C={on:{start:a.bind(function(){this._scrollActive=true;},this)}};switch(z){case"top":C.top=B+"px";break;case"bottom":break;case"left":C.left=B+"px";break;case"right":C.right=B+"px";break;}C.duration=this.options.animDuration||0.5;C.easing=this.options.easing||"ease-in-out";this._carouselList.transition(C,a.bind(function(){this._handleScrollEnd(x);},this));}else{this._carouselList.setStyle(z,B+"px");this._handleScrollEnd(x);}},_handleScrollEnd:function(u){var s,t,x,v,w;this._scrollActive=false;if(a.UA.ie){s=this._direction;w=this._carouselList;x=parseInt(w.getComputedStyle(s),10);v=this._convertToEms(x);if(isFinite(v)){w.setStyle(s,v-0.068+"em");}}t=this.getItemNode(this._currentIndex);this._activateTabIndex(t,e);this.fire(u);},_convertToEms:function(s){return 1/this._calculateEm()*parseInt(s,10);},_convertToPixels:function(s){return this._calculateEm()*parseInt(s,10);},_calculateEm:function(){var s,u,t=this.node;s=t.create('<div style="width: 50em; height: 0; position: absolute;'+this._direction+': -999em;"></div>');t.appendChild(s);u=s.get(g)/50;t.removeChild(s);if(u===0&&this._pixelToEmRatio!==0){u=this._pixelToEmRatio;}else{if(u>0){this._pixelToEmRatio=u;}}return u;},_activateTabIndex:function(u,s){var t=u.queryAll(n);if(t){if(s){t.each(function(v){v.removeAttribute(i);});}else{t.each(function(v){v.setAttribute(i,"-1");});}}},getItemNodes:function(){return this._carouselItems;},getItemCount:function(){return this._maxItems;},isScrolling:function(){return this._scrollActive;},attachEngagingAreaMouseEvents:function(){this.node.on(k,this.handleEngagingAreaMouseover,this);this.node.on(r,this.handleEngagingAreaMouseout,this);},detachEngagingAreaMouseEvents:function(){this.node.detach(k,this.handleEngagingAreaMouseover);this.node.detach(r,this.handleEngagingAreaMouseout);},handleBlur:function(){this.pause(e);this.detachEngagingAreaMouseEvents();},handleFocus:function(){this.play(e);this.attachEngagingAreaMouseEvents();},handleIEBlur:function(){if(this.activeElement){}if(this.activeElement==document.activeElement){this.activeElement=o;this.handleBlur();}},handleIEFocus:function(){if(this.activeElement==o){this.handleFocus();}this.activeElement=document.activeElement;},handleEngagingAreaMouseover:function(s){a.later(b,this,this.pause,e);},handleEngagingAreaMouseout:function(s){a.later(b,this,this.play,e);}};a.augment(m,a.Event.Target);function d(s){this.moduleapi=s;}d.prototype={create:function(t,s){return new m(t,s,this.moduleapi);}};a.namespace(c);a[c][h]={name:"carousel",getService:function(t,s){if(!q){q=t;}return new d(q.getModuleApi(s));}};if(f){f.registerService(a[c][h]);}},"1.0");/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
YUI.add("twttr_all",function(a){(function(aE,aD){function P(e){for(var d=0;d<U.bundles.length;d++){for(var f in U.bundles[d]){if(f!=e&&ai(U.bundles[d][f],e)>-1){return f;}}}}function Q(){aE.using=ar,aE.provide=aq,aE.define=ap,aE.loadrunner=ao;return R;}function S(j){var h,o;for(var n=0,m;m=U.matchers[n];n++){var l=m[0],k=m[1];if(h=j.match(l)){return k(j);}}throw new Error(j+" was not recognised by loader");}function T(g,f){var k=[];for(var j=0,h;h=g[j];j++){typeof h=="string"&&(h=S(h)),aj(h)&&(h=new ab(T(h,f),f)),k.push(h);}return k;}function U(){var f=ak(arguments),e,h;typeof f[f.length-1]=="function"&&(e=f.pop()),typeof f[f.length-1]=="boolean"&&(h=f.pop());var g=new ac(T(f,h),h);e&&g.then(e);return g;}function V(){var f=ak(arguments),e=[],h,g;typeof f[0]=="string"&&(h=f.shift()),aj(f[0])&&(e=f.shift()),g=f.shift();return Z(h,function(b){function l(){var o=W(ak(e),n),c;typeof g=="function"?c=g.apply(n,o):c=g,typeof c=="undefined"&&(c=n.exports),b(c);}var n=this,m=[];for(var k=0,j=e.length;k<j;k++){var d=e[k];ai(["require","exports"],d)==-1&&m.push(X(d,n));}m.length>0?U.apply(this,m.concat(l)):l();});}function W(h,g){function l(b){return ad.exports[X(b,g)];}var m=[];for(var k=0,j=h.length;k<j;k++){if(h[k]=="require"){m.push(l);continue;}if(h[k]=="exports"){g.exports=g.exports||{},m.push(g.exports);continue;}m.push(l(h[k]));}return m;}function X(g,f){var k=f.id||"",j=k.split("/");j.pop();var h=j.join("/");return g.replace(/^\./,h);}function Y(){var e=ak(arguments),d,f;typeof e[0]=="string"&&(d=e.shift()),f=e.shift();return Z(d,f);}function Z(e,c){var f;!e&&aC&&(f=au||aa()),f?(delete at[f.scriptId],f.body=c,f.execute()):(av=f=new ad(e,c),aw[f.id]=f);return f;}function aa(){for(var b in aB){if(aB[b].readyState=="interactive"){return at[aB[b].id];}}}function ab(d,c){this.deps=d,this.collectResults=c;}function ac(d,c){this.deps=d,this.collectResults=c,this.deps.length==0&&this.complete();}function ad(d,c){this.id=d,this.body=c,typeof c=="undefined"&&(this.path=this.resolvePath(d));}function ae(d,c){this.id=this.path=d,this.force=!!c;}function af(){}function ag(h,g,m){var l=g.split("/"),k=h;while(l.length>1){var j=l.shift();k=k[j]=k[j]||{};}k[l[0]]=m;}function ah(){var f=ak(arguments),e=[];for(var h=0,g=f.length;h<g;h++){f[h].length>0&&e.push(f[h].replace(/\/$/,""));}return e.join("/");}function ai(f,e){for(var h=0,g;g=f[h];h++){if(e==g){return h;}}return -1;}function ak(b){return Array.prototype.slice.call(b);}function al(f){for(var e=1,h;h=arguments[e];e++){for(var g in h){f[g]=h[g];}}return f;}var aC=aE.attachEvent&&!aE.opera,aB=aD.getElementsByTagName("script"),aA=0,az,ay=aD.createElement("script"),ax={},aw={},av,au,at={},ar=aE.using,aq=aE.provide,ap=aE.define,ao=aE.loadrunner;for(var an=0,am;am=aB[an];an++){if(am.src.match(/loadrunner\.js(\?|#|$)/)){az=am;break;}}var aj=Array.isArray||function(b){return b.constructor==Array;};af.prototype.then=function(d){var e=this;this.started||(this.started=!0,this.start()),this.completed?d.apply(aE,this.results):(this.callbacks=this.callbacks||[],this.callbacks.push(d));return this;},af.prototype.start=function(){},af.prototype.complete=function(){if(!this.completed){this.results=ak(arguments),this.completed=!0;if(this.callbacks){for(var d=0,e;e=this.callbacks[d];d++){e.apply(aE,this.results);}}}},ae.loaded=[],ae.prototype=new af,ae.prototype.start=function(){var f=this,e,h,g;if(g=aw[this.id]){g.then(function(){f.complete();});return this;}(e=ax[this.id])?e.then(function(){f.loaded();}):!this.force&&ai(ae.loaded,this.id)>-1?this.loaded():(h=P(this.id))?U(h,function(){f.loaded();}):this.load();return this;},ae.prototype.load=function(){var d=this;ax[this.id]=d;var e=ay.cloneNode(!1);this.scriptId=e.id="LR"+ ++aA,e.type="text/javascript",e.async=!0,e.onerror=function(){throw new Error(d.path+" not loaded");},e.onreadystatechange=e.onload=function(b){b=aE.event||b;if(b.type=="load"||ai(["loaded","complete"],this.readyState)>-1){this.onreadystatechange=null,d.loaded();}},e.src=this.path,au=this,aB[0].parentNode.insertBefore(e,aB[0]),au=null,at[e.id]=this;},ae.prototype.loaded=function(){this.complete();},ae.prototype.complete=function(){ai(ae.loaded,this.id)==-1&&ae.loaded.push(this.id),delete ax[this.id],af.prototype.complete.apply(this,arguments);},ad.exports={},ad.prototype=new ae,ad.prototype.resolvePath=function(b){return ah(U.path,b+".js");},ad.prototype.start=function(){var f,e,h=this,g;this.body?this.execute():(f=ad.exports[this.id])?this.exp(f):(e=aw[this.id])?e.then(function(b){h.exp(b);}):(bundle=P(this.id))?U(bundle,function(){h.start();}):(aw[this.id]=this,this.load());},ad.prototype.loaded=function(){var e,c,f=this;aC?(c=ad.exports[this.id])?this.exp(c):(e=aw[this.id])&&e.then(function(b){f.exp(b);}):(e=av,av=null,e.id=e.id||this.id,e.then(function(b){f.exp(b);}));},ad.prototype.complete=function(){delete aw[this.id],ae.prototype.complete.apply(this,arguments);},ad.prototype.execute=function(){var b=this;typeof this.body=="object"?this.exp(this.body):typeof this.body=="function"&&this.body.apply(window,[function(c){b.exp(c);}]);},ad.prototype.exp=function(b){this.complete(this.exports=ad.exports[this.id]=b||{});},ac.prototype=new af,ac.prototype.start=function(){function e(){var j=[];f.collectResults&&(j[0]={});for(var l=0,k;k=f.deps[l];l++){if(!k.completed){return;}k.results.length>0&&(f.collectResults?k instanceof ab?al(j[0],k.results[0]):ag(j[0],k.id,k.results[0]):j=j.concat(k.results));}f.complete.apply(f,j);}var f=this;for(var h=0,g;g=this.deps[h];h++){g.then(e);}return this;},ab.prototype=new af,ab.prototype.start=function(){var f=this,e=0,h=[];f.collectResults&&(h[0]={}),function g(){var b=f.deps[e++];b?b.then(function(c){b.results.length>0&&(f.collectResults?b instanceof ab?al(h[0],b.results[0]):ag(h[0],b.id,b.results[0]):h.push(b.results[0])),g();}):f.complete.apply(f,h);}();return this;},V.amd={};var R=function(b){return b(U,Y,R,define);};R.Script=ae,R.Module=ad,R.Collection=ac,R.Sequence=ab,R.Dependency=af,R.noConflict=Q,aE.loadrunner=R,aE.using=U,aE.provide=Y,aE.define=V,U.path="",U.matchers=[],U.matchers.add=function(d,c){this.unshift([d,c]);},U.matchers.add(/(^script!|\.js$)/,function(d){var c=new ae(d.replace(/^\$/,U.path.replace(/\/$/,"")+"/").replace(/^script!/,""),!1);c.id=d;return c;}),U.matchers.add(/^[a-zA-Z0-9_\-\/]+$/,function(b){return new ad(b);}),U.bundles=[],az&&(U.path=az.getAttribute("data-path")||az.src.split(/loadrunner\.js/)[0]||"",(main=az.getAttribute("data-main"))&&U.apply(aE,main.split(/\s*,\s*/)).then(function(){}));})(window,document);window.__twttrlr=loadrunner.noConflict();__twttrlr(function(d,c,b,e){c("util/iframe",function(g){var f=document.createElement("div");g(function(h){f.innerHTML='<iframe src="'+h.url+'" allowtransparency="true" frameborder="0" scrolling="no"/>';var l=f.firstChild.cloneNode(!1);l.src=h.url,l.className=h.className||"";for(var k in h.css){l.style[k]=h.css[k];}l.title=h.title||"";if(h.replace){var j=h.replace.parentNode;j.replaceChild(l,h.replace);}else{document.body.insertBefore(l,document.body.firstChild);}return l;});});c("util/querystring",function(g){function h(m){var l={},q,p,o,n;if(m){q=m.split("&");for(n=0;o=q[n];n++){p=o.split("="),p.length==2&&(l[k(p[0])]=k(p[1]));}}return l;}function j(l){var n=[];for(var m in l){l[m]!==null&&typeof l[m]!="undefined"&&n.push(f(m)+"="+f(l[m]));}return n.sort().join("&");}function k(l){return decodeURIComponent(l);}function f(l){return encodeURIComponent(l).replace(/\+/g,"%2B");}g({decode:h,encode:j,encodePart:f,decodePart:k});});c("util/nodeselect",function(g){var f=document,h="querySelectorAll" in f?function(j,k){return f.querySelectorAll(j+"."+k);}:"getElementsByClassName" in f?function(j,n){var m=f.getElementsByClassName(n),l,k=[];for(i=0;l=m[i];i++){l.tagName.toLowerCase()==j&&k.push(l);}return k;}:function(j,o){var n=f.getElementsByTagName(j),m,l=new RegExp("(?:^|\\s+)"+o+"(?:\\s+|$)"),k=[];for(i=0;m=n[i];i++){l.test(m.className)&&k.push(m);}return k;};g(h);});c("$vendor/domready/ready.js",function(f){!function(x){function n(){w=1;for(var g=0,h=v.length;g<h;g++){v[g]();}}var w=0,v=[],u,t,s=!1,r=x.createElement("a"),q="DOMContentLoaded",p="addEventListener",o="onreadystatechange";/^loade|c/.test(x.readyState)&&(w=1),x[p]&&x[p](q,t=function(){x.removeEventListener(q,t,s),n();},s),r.doScroll&&x.attachEvent(o,u=function(){/^c/.test(x.readyState)&&(x.detachEvent(o,u),n());});var m=r.doScroll?function(g){self!=top?w?g():v.push(g):!function(){try{r.doScroll("left");}catch(h){return setTimeout(function(){m(g);},50);}g();}();}:function(g){w?g():v.push(g);};typeof module!="undefined"&&module.exports?module.exports={domReady:m}:window.domReady=m;}(document);f();b.Script.loaded.push("$vendor/domready/ready.js");});c("util/domready",function(f){d("$vendor/domready/ready.js",function(){f(domReady);});});c("util/util",function(g){function h(l,k){for(var n=0,m;m=l[n];n++){if(k==m){return n;}}return -1;}function j(k){return f([],k);}function f(l){for(var k=1,n;n=arguments[k];k++){for(var m in n){l[m]=n[m];}}return l;}g({aug:f,array:j,indexOf:h});});c("tfw/widget/base",function(f){d("util/util","util/domready","util/nodeselect","util/querystring","util/iframe",function(C,B,A,z,y){function p(g){return g&&u.byId[g]?u.byId[g].element:null;}function q(){s(),B(function(){s();});}function r(g){v=g;}function s(){var j=v.widgets,h,n;for(var m in j){m.match(/\./)?h=A.apply(this,m.split(".")):h=document.getElementsByTagName(m);for(var l=0,k;k=h[l];l++){n=new j[m](k),u.list.push(n),u.byId[n.id]=n,n.render(v);}}}var x=0,w,v,u={list:[],byId:{}},t=function(){};C.aug(t.prototype,{_:function(h){var g=this.lang;if(!g||!this.langs.hasOwnProperty(g)){g="en";}return this.langs[g][h];},add:function(g){u.list.push(this),u.byId[this.id]=g;},create:function(h,g,k,j){this.id=this.generateId();return y({url:h,css:{width:k[0]+(typeof k[0]!="string"?"px":""),height:k[1]+(typeof k[1]!="string"?"px":"")},className:g,id:this.id,title:j,replace:this.originElement});},params:function(){var h=this.originElement.href&&this.originElement.href.split("?")[1],g=h?z.decode(h):{};return g;},generateId:function(){return this.originElement.id?this.originElement.id:"twitter_tweet_button_"+x++;}}),f({Base:t,init:r,embed:q,find:p,TWITTER_PROFILE_URL:/^https?\:\/\/(?:www\.)?twitter\.com\/(?:#!?\/)?([a-zA-Z0-9_]{1,20})\/?$/});});});c("util/events",function(f){d("util/util",function(g){function h(){this.completed=!1,this.callbacks=[];}var j={bind:function(l,k){this._handlers=this._handlers||{},this._handlers[l]=this._handlers[l]||[];return this._handlers[l].push(k);},unbind:function(k,m){if(!!this._handlers[k]){if(m){var l=g.indexOf(this._handlers[k],m);l>=0&&this._handlers[k].splice(l,1);}else{this._handlers[k]=[];}}},trigger:function(l,k){var o=this._handlers&&this._handlers[l];k.type=l;if(o){for(var n=0,m;m=o[n];n++){m.call(this,k);}}}};h.prototype.addCallback=function(k){this.completed?k.apply(this,this.results):this.callbacks.push(k);},h.prototype.complete=function(){this.results=makeArray(arguments),this.completed=!0;for(var l=0,k;k=this.callbacks[l];l++){k.apply(this,this.results);}},f({Emitter:j,Promise:h});});});c("util/uri",function(f){d("util/querystring","util/util",function(g,l){function h(){var v=document.getElementsByTagName("a"),u=document.getElementsByTagName("link"),t=/\bme\b/,s=/^https?\:\/\/(www\.)?twitter.com\/([a-zA-Z0-9_]+)$/,r=l.array(v).concat(l.array(u)),q,p,o;for(var n=0,m;m=r[n];n++){p=m.getAttribute("rel"),o=m.getAttribute("href");if(p&&o&&p.match(t)&&(q=o.match(s))){return q[2];}}}function j(){var n=document.getElementsByTagName("link");for(var m=0,o;o=n[m];m++){if(o.getAttribute("rel")=="canonical"){return k(o.getAttribute("href"));}}return null;}function k(n){var m;if(n.match(/^https?:\/\//)){return n;}m=location.host,location.port.length>0&&(m+=":"+location.port);return[location.protocol,"//",m,n].join("");}f({absolutize:k,getCanonicalURL:j,getScreenNameFromPage:h});});});c("tfw/widget/intent",function(f){d("util/util","tfw/widget/base","util/querystring","util/uri",function(I,H,G,F){function t(h){h=h||window.event;var g=h.target||h.srcElement,l,k;while(g&&g.nodeName.toLowerCase()!=="a"){g=g.parentNode;}if(g&&g.nodeName.toLowerCase()==="a"&&g.href){l=g.href.match(E);if(l){var j=v(g.href);j=j.replace(/^http[:]/,"https:"),j=j.replace(/^\/\//,"https://"),twttr.events.hub?(k=new u(y.generateId(),g),y.add(k),w(j,g),twttr.events.trigger("click",{target:g,region:"intent",type:"click",data:{}})):x(j),h.returnValue=!1,h.preventDefault&&h.preventDefault();}}}function v(h){var g="original_referer="+location.href;return[h,g].join(h.indexOf("?")==-1?"?":"&");}function w(h,g){d("xd/parent","xd/jsonrpc",function(l,k){var j=l.connect({window:{width:550,height:450},src:h});k(j).expose({trigger:function(m,n){twttr.events.trigger(m,{target:g,region:"intent",type:m,data:n});}});});}function x(h){var g=Math.round(z/2-C/2),j=0;A>B&&(j=Math.round(A/2-B/2)),window.open(h,"intent",D+",width="+C+",height="+B+",left="+g+",top="+j);}var E=/twitter\.com(\:\d{2,4})?\/intent\/(\w+)/,D="scrollbars=yes,resizable=yes,toolbar=no,location=yes",C=550,B=520,A=screen.height,z=screen.width,y,u=function(h,g){this.id=h,this.element=this.originElement=g;},s=function(g){this.originElement=[],this.element=g;};s.prototype=new H.Base,I.aug(s.prototype,{render:function(g){y=this,window.__twitterIntentHandler||(document.addEventListener?document.addEventListener("click",t,!1):document.attachEvent&&document.attachEvent("onclick",t),window.__twitterIntentHandler=!0);}}),f({Listener:s});});});c("tfw/widget/tweet",function(f){d("util/util","tfw/widget/base","util/querystring","util/uri",function(j,q,p,o){var n=document.title,m=encodeURI(location.href),l={en:1,de:1,es:1,fr:1,id:1,it:1,ko:1,ja:1,nl:1,pt:1,ru:1,tr:1},k=function(h){this.originElement=h,this.id=this.generateId();var g=this.params(),s=g.count||h.getAttribute("data-count"),r=g.lang||h.getAttribute("data-lang");this.text=g.text||h.getAttribute("data-text")||n,this.via=g.via||h.getAttribute("data-via")||o.getScreenNameFromPage(),this.url=g.url||h.getAttribute("data-url")||o.getCanonicalURL()||m,this.related=g.related||h.getAttribute("data-related"),this.counturl=g.counturl||h.getAttribute("data-counturl"),this.searchlink=g.searchlink||h.getAttribute("data-searchlink"),this.placeid=g.placeid||h.getAttribute("data-placeid"),this.supportCount[s]||(s="horizontal"),this.count=s,l[r]||(r="en"),this.lang=r;};k.prototype=new q.Base,j.aug(k.prototype,{supportCount:{vertical:1,horizontal:1,none:1},titles:{en:"Twitter For Websites: Tweet Button",de:"Twitter fr Webseiten: Tweet-Schaltflche",es:"Twi`tter para sitios web: Botn para Twittear",fr:'Twitter pour votre site web : bouton "Tweeter"',id:"Twitter untuk Situs Web: Tombol Tweet",it:"Tweeter per i siti web: Bottone Tweet",ja:"WEBTwitter: ",ko:"Twitter  :  ",nl:"Twitter voor websites: tweetknop",pt:"Twitter para websites: Boto de Tweet",ru:"  -:  ",tr:"Web siteleri iin Twitter: Tweetle Butonu"},dimensionsMap:{en:{vertical:[55,62],horizontal:[110,20],none:[55,20]},de:{vertical:[67,62],horizontal:[122,20],none:[67,20]},es:{vertical:[71,62],horizontal:[118,20],none:[71,20]},fr:{vertical:[65,62],horizontal:[118,20],none:[65,20]},id:{vertical:[55,62],horizontal:[110,20],none:[55,20]},it:{vertical:[55,62],horizontal:[110,20],none:[55,20]},ko:{vertical:[55,62],horizontal:[110,20],none:[55,20]},ja:{vertical:[80,62],horizontal:[130,20],none:[80,20]},nl:{vertical:[55,62],horizontal:[110,20],none:[55,20]},pt:{vertical:[66,62],horizontal:[120,20],none:[66,20]},ru:{vertical:[68,62],horizontal:[120,20],none:[68,20]},tr:{vertical:[66,62],horizontal:[120,20],none:[66,20]}},parameters:function(){var g={text:this.text,url:this.url,via:this.via,related:this.related,count:this.count,lang:this.lang,counturl:this.counturl,searchlink:this.searchlink,placeid:this.placeid,original_referer:location.href,id:this.id};g._=(new Date).getTime();return p.encode(g);},render:function(h){var g=h.assetUrl()+"/widgets/tweet_button.html#"+this.parameters(),s=this.dimensionsMap[this.lang][this.count],r=this.titles[this.lang];this.element=this.create(g,"twitter-share-button twitter-count-"+this.count,s,r);}}),f({Embeddable:k});});});c("tfw/widget/follow",function(f){d("util/util","tfw/widget/base","util/querystring","util/uri",function(h,n,m,l){var k={en:1,de:1,es:1,fr:1,id:1,it:1,ko:1,ja:1,nl:1,pt:1,ru:1,tr:1},j=function(o){this.originElement=o,this.id=this.generateId();var g=this.params(),p=g.lang||o.getAttribute("data-lang")||"en";this.showScreenName=g.show_screen_name||o.getAttribute("data-show-screen-name")||"",this.showCount=g.show_count||o.getAttribute("data-show-count")||"",this.button=g.button||o.getAttribute("data-button")||"blue",this.linkColor=g.link_color||o.getAttribute("data-link-color")||"",this.textColor=g.text_color||o.getAttribute("data-text-color")||"",this.width=g.width||o.getAttribute("data-width")||"",this.screenName=this.screenNameFromHref(),this.align=g.align||o.getAttribute("data-align")||"",this.lang=p,k[p]||(this.lang="en");};j.prototype=new n.Base,h.aug(j.prototype,{titles:{en:"Twitter For Websites: Tweet Button",de:"Twitter fr Webseiten: Tweet-Folgen",es:"Twi`tter para sitios web: Botn para Seguir",fr:'Twitter pour votre site web : bouton "Suivre"',id:"",it:"Tweeter per i siti web: Bottone Seguire",ja:"WEBTwitter",ko:"Twitter  ",pt:"Twitter para websites",ru:"  -",tr:"Web siteleri iin Twitter"},langs:{en:{dimensions:[300,20]},de:{dimensions:[300,20]},es:{dimensions:[300,20]},fr:{dimensions:[300,20]},id:{dimensions:[300,20]},it:{dimensions:[300,20]},ko:{dimensions:[300,20]},nl:{dimensions:[300,20]},pt:{dimensions:[300,20]},ja:{dimensions:[300,20]},ru:{dimensions:[300,20]},tr:{dimensions:[300,20]}},parameters:function(){var g={screen_name:this.screenName,lang:this.lang,button:this.button,link_color:this.linkColor,text_color:this.textColor,show_count:this.showCount,show_screen_name:this.showScreenName,align:this.align,id:this.id};g._=(new Date).getTime();return m.encode(g);},screenNameFromHref:function(){var o=this.originElement.href,g;if(g=o.match(n.TWITTER_PROFILE_URL)){return g[1];}},render:function(o){if(!!this.screenName){var g=o.assetUrl()+"/widgets/follow_button.html#"+this.parameters(),q=this.langs[this.lang].dimensions;this.width&&(q=[this.width,q[1]]);var p=this.langs[this.lang].title;this.element=this.create(g,"twitter-follow-button",q,p);}}}),f({Embeddable:j});});});window.twttr=window.twttr||{},function(){twttr.host=twttr.host||"platform.twitter.com",d.path.length==0&&(d.path="//"+twttr.host+"/js"),typeof twttr.ignoreSSL=="undefined"&&(twttr.ignoreSSL=!1);var f=[];twttr.events={bind:function(g,h){return f.push([g,h]);}},d("util/util","tfw/widget/follow","tfw/widget/tweet","tfw/widget/intent","util/events","tfw/widget/base",function(w,v,u,t,s,r){function n(){d("xd/parent","xd/jsonrpc",function(h,g){var j=q.assetUrl()+"/widgets/hub.html";twttr.events.hub=h.connect({src:j,iframe:{name:"twttrHubFrame",style:"position:absolute;top:-9999em;width:10px;height:10px"}}),g(twttr.events.hub).expose({trigger:function(l,k,y){var k=k||{},x=k.region;delete k.region,twttr.events.trigger(l,{target:r.find(y),data:k,region:x,type:l});}});});}function o(g){return(window.location.protocol.match(/s\:$/)||g)&&!twttr.ignoreSSL?"https":"http";}var q={},p=0;q.widgets={"a.twitter-share-button":u.Embeddable,"a.twitter-follow-button":v.Embeddable,body:t.Listener},q.assetUrl=function(g){return o(g)+"://"+twttr.host;},twttr.events=w.aug({},s.Emitter),twttr.events.oldbind=twttr.events.bind,twttr.events.bind=function(h,g){n(),this.bind=this.oldbind,this.bind(h,g);};for(var m=0;handler=f[m];m++){twttr.events.bind(handler[0],handler[1]);}twttr.widgets={load:function(){r.init(q),r.embed();}},twttr.widgets.load();});}();});},"1.0.0",{requires:["node-base"]});/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
function ad_el(b){var a=document;if(a.getElementById){return a.getElementById(b);}else{if(a.all){return a.all[b];}else{if(a.layers){return a.layers[b];}else{return null;}}}}function ad_params(g,f){var e="",b=arguments;for(var d=1;d<b.length;d++){if(g=="object"){e+="<param name="+b[d][0]+' value="'+b[d][1]+'">';}else{if(g=="embed"){e+=b[d][0]+'="'+b[d][1]+'"';if(d<(b.length-1)){e+=" ";}}else{return;}}}return[g,e];}function ad_embedObj(l,i,k,j,f,a){var b="";switch(l){case"swf":var e="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000";break;default:return;}var c=l+i;if(a[0]=="object"){b='<object classid="'+e+'" id="'+c+'" width="'+j+'" height="'+f+'">'+a[1]+"</object>";}else{if(a[0]=="embed"){b='<embed name="'+c+'" '+a[1]+"></embed>";}else{return;}}if(k!==""){var g=ad_el(k);g.innerHTML=b;}else{document.write(b);}}ad_jsl=1;if(document.getElementById("l_yodel")&&typeof(yodel)!="undefined"){function callYodel(){var a=["FlashVars","startplay=1"];if(yodel.cap){ad_embedObj("swf","yod1","l_fl",yodel.swf_w,yodel.swf_h,ad_params("object",["movie",yodel.swf],["quality","autohigh"],["loop","false"],["play","false"],["wmode","transparent"],a));}else{ad_embedObj("swf","yod1","l_fl","","",ad_params("embed",["src",yodel.swf],["height",yodel.swf_h],["width",yodel.swf_w],["quality","autohigh"],["play","false"],["loop","false"],["wmode","transparent"],a,["type","application/x-shockwave-flash"],["pluginspage","http://www.adobe.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash"]));}}function yodelCheckFlash(){var a=document.documentElement.className.toString();if(a.match("flash-gt"+(yodel.nfv-1))){if(a.match("ua-ie")){yodel.cap=1;}else{yodel.ncap=1;}}if(yodel.cap||yodel.ncap){var b=document.createElement("div");b.id="l_fl";b.style.position="absolute";b.style.top="0px";b.style.left="0px";document.getElementById("l_yodel").appendChild(b);ad_el("l_logo").useMap="#yodelmap";}}if(typeof(ad_jsl)!="undefined"){if(window.attachEvent){window.attachEvent("onload",yodelCheckFlash);}else{if(window.addEventListener){window.addEventListener("load",yodelCheckFlash,0);}}}}if(document.getElementById("hdrm_mh")&&typeof(ad_hdrm)!="undefined"){var hdrm_init=(function(){var b=document.documentElement.className.toString();if(b.match("flash-gt"+(ad_hdrm.nfv-1))&&typeof(ad_jsl)!="undefined"){if(b.match("ua-ie")){ad_hdrm.cap=1;}else{ad_hdrm.ncap=1;}}var a=document.createElement("div");a.id="mh_swf";a.style.position="absolute";a.style.top=ad_hdrm.off_y+"px";a.style.left=ad_hdrm.off_x+"px";ad_el("hdrm_mh").appendChild(a);var c="logo_clk="+ad_hdrm.redir+"&swfext="+ad_hdrm.dir+"&country=us";if(ad_hdrm.cap){ad_embedObj("swf","l1","mh_swf",ad_hdrm.swf_w,ad_hdrm.swf_h,ad_params("object",["movie",ad_hdrm.dir+ad_hdrm.swf],["FlashVars",c],["allowScriptAccess","always"],["quality","autohigh"],["menu","false"],["loop","false"],["wmode","transparent"],["play","true"]));}else{if(ad_hdrm.ncap){ad_embedObj("swf","l1","mh_swf","","",ad_params("embed",["alt",ad_hdrm.alt],["src",ad_hdrm.dir+ad_hdrm.swf],["id","swfl1"],["FlashVars",c],["allowScriptAccess","always"],["loop","false"],["menu","false"],["quality","high"],["width",ad_hdrm.swf_w],["play","true"],["height",ad_hdrm.swf_h],["wmode","transparent"],["type","application/x-shockwave-flash"],["pluginspage","http://www.adobe.com/shockwave/download/index.cgi?P1_Prod_Version=ShockwaveFlash"]));}else{ad_el("hdrm_mh").innerHTML='<a href="'+ad_hdrm.redir+'"><img src="'+ad_hdrm.dir+ad_hdrm.img+'" height="'+ad_hdrm.swf_h+'" width="'+ad_hdrm.swf_w+'" border="0" alt="'+ad_hdrm.alt+'" /></a>';}}if(ad_hdrm.cap){ad_el("swfl1").alt=ad_hdrm.alt;}})();}/* Copyright (c) 2013, Yahoo! Inc.  All rights reserved. */
